2022-04-01 16:22:59.044 +03:00 [] Application Is Starting2022-04-01 16:23:02.321 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-01 16:23:03.301 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-01 16:23:03.302 +03:00 [] Hosting environment: Development2022-04-01 16:23:03.302 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-01 16:23:03.443 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 16:23:03.692 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 252.0076ms2022-04-01 16:23:04.365 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-01 16:23:04.601 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 248.4929ms2022-04-01 16:23:25.545 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/account/login application/json-patch+json 502022-04-01 16:23:25.557 +03:00 [] CORS policy execution successful.2022-04-01 16:23:25.631 +03:00 [] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 16:23:25.717 +03:00 [] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.DTOs.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).2022-04-01 16:23:26.609 +03:00 [] Login attemt for aha@example.com 2022-04-01 16:23:58.759 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 16:24:32.356 +03:00 [] Executed DbCommand (119ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_02022-04-01 16:24:41.088 +03:00 [] Invalid password for user.2022-04-01 16:25:43.444 +03:00 [] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.2022-04-01 16:25:43.533 +03:00 [] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 137808.3681ms2022-04-01 16:25:43.534 +03:00 [] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 16:25:43.764 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/account/login application/json-patch+json 50 - 401 162 application/problem+json;+charset=utf-8 138219.2890ms2022-04-01 16:26:29.651 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/account/login application/json-patch+json 502022-04-01 16:26:29.655 +03:00 [] CORS policy execution successful.2022-04-01 16:26:29.673 +03:00 [] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 16:26:29.673 +03:00 [] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.DTOs.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).2022-04-01 16:26:29.685 +03:00 [] Login attemt for aha@example.com 2022-04-01 16:26:36.130 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 16:26:36.200 +03:00 [] Executed DbCommand (56ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_02022-04-01 16:26:52.373 +03:00 [] Invalid password for user.2022-04-01 16:28:11.627 +03:00 [] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.2022-04-01 16:28:11.638 +03:00 [] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 101965.0019ms2022-04-01 16:28:11.639 +03:00 [] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 16:28:11.697 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/account/register application/json-patch+json 1272022-04-01 16:28:11.698 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/account/login application/json-patch+json 50 - 401 162 application/problem+json;+charset=utf-8 102047.0986ms2022-04-01 16:28:11.703 +03:00 [] CORS policy execution successful.2022-04-01 16:28:11.703 +03:00 [] Executing endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'2022-04-01 16:28:11.710 +03:00 [] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelListing.Models.DTOs.UserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).2022-04-01 16:28:11.827 +03:00 [] Registration attemt for aw@example.com 2022-04-01 16:28:11.898 +03:00 [] User password validation failed: PasswordRequiresNonAlphanumeric;PasswordRequiresUpper.2022-04-01 16:28:11.900 +03:00 [] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.2022-04-01 16:28:11.926 +03:00 [] Executed action HotelListing.Controllers.AccountController.Register (HotelListing) in 169.2634ms2022-04-01 16:28:11.926 +03:00 [] Executed endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'2022-04-01 16:28:11.927 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/account/register application/json-patch+json 127 - 400 182 application/json;+charset=utf-8 229.8870ms2022-04-01 16:28:27.313 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/account/register application/json-patch+json 1282022-04-01 16:28:27.313 +03:00 [] CORS policy execution successful.2022-04-01 16:28:27.313 +03:00 [] Executing endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'2022-04-01 16:28:27.313 +03:00 [] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelListing.Models.DTOs.UserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).2022-04-01 16:28:46.084 +03:00 [] Registration attemt for aw@example.com 2022-04-01 16:28:46.085 +03:00 [] User password validation failed: PasswordRequiresUpper.2022-04-01 16:28:46.085 +03:00 [] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.2022-04-01 16:28:46.086 +03:00 [] Executed action HotelListing.Controllers.AccountController.Register (HotelListing) in 18772.3721ms2022-04-01 16:28:46.086 +03:00 [] Executed endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'2022-04-01 16:28:46.090 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/account/register application/json-patch+json 128 - 400 83 application/json;+charset=utf-8 18773.6672ms2022-04-01 16:28:56.969 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/account/register application/json-patch+json 1282022-04-01 16:28:56.969 +03:00 [] CORS policy execution successful.2022-04-01 16:28:56.969 +03:00 [] Executing endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'2022-04-01 16:28:56.969 +03:00 [] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(HotelListing.Models.DTOs.UserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).2022-04-01 16:28:56.971 +03:00 [] Registration attemt for aw@example.com 2022-04-01 16:28:57.102 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 16:28:57.119 +03:00 [] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_02022-04-01 16:28:57.219 +03:00 [] Executed DbCommand (16ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_02022-04-01 16:28:57.576 +03:00 [] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);2022-04-01 16:28:57.654 +03:00 [] Executed DbCommand (8ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_02022-04-01 16:28:57.719 +03:00 [] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)2022-04-01 16:28:57.732 +03:00 [] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_02022-04-01 16:28:57.781 +03:00 [] Executed DbCommand (15ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_02022-04-01 16:28:57.907 +03:00 [] Executed DbCommand (75ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_02022-04-01 16:28:57.964 +03:00 [] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);2022-04-01 16:28:58.000 +03:00 [] Executed DbCommand (26ms) [Parameters=[@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
SELECT @@ROWCOUNT;2022-04-01 16:28:58.029 +03:00 [] Executing AcceptedResult, writing value of type 'null'.2022-04-01 16:28:58.030 +03:00 [] Executed action HotelListing.Controllers.AccountController.Register (HotelListing) in 1060.3112ms2022-04-01 16:28:58.030 +03:00 [] Executed endpoint 'HotelListing.Controllers.AccountController.Register (HotelListing)'2022-04-01 16:28:58.037 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/account/register application/json-patch+json 128 - 202 0 - 1068.1000ms2022-04-01 16:29:14.766 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/account/login application/json-patch+json 482022-04-01 16:29:14.766 +03:00 [] CORS policy execution successful.2022-04-01 16:29:14.766 +03:00 [] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 16:29:14.766 +03:00 [] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.DTOs.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).2022-04-01 16:29:14.767 +03:00 [] Login attemt for aw@example.com 2022-04-01 16:29:20.265 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 16:29:20.324 +03:00 [] Executed DbCommand (57ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_02022-04-01 16:30:14.078 +03:00 [] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_02022-04-01 16:31:48.612 +03:00 [] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.2022-04-01 16:31:48.712 +03:00 [] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 153945.9086ms2022-04-01 16:31:48.712 +03:00 [] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 16:31:48.713 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/account/login application/json-patch+json 48 - 202 348 application/json;+charset=utf-8 153947.0157ms2022-04-01 17:26:47.162 +03:00 [] Application Is Starting2022-04-01 17:26:50.507 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-01 17:26:51.158 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-01 17:26:51.159 +03:00 [] Hosting environment: Development2022-04-01 17:26:51.159 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-01 17:26:51.231 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 17:26:51.445 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 208.0230ms2022-04-01 17:26:52.436 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-01 17:26:52.742 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 306.0729ms2022-04-01 17:27:10.704 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/account/login application/json-patch+json 472022-04-01 17:27:10.713 +03:00 [] CORS policy execution successful.2022-04-01 17:27:10.784 +03:00 [] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 17:27:10.877 +03:00 [] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.DTOs.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).2022-04-01 17:27:11.892 +03:00 [] Login attemt for aw@example.com 2022-04-01 17:27:13.235 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 17:27:18.711 +03:00 [] Executed DbCommand (149ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_02022-04-01 17:27:18.861 +03:00 [] Invalid password for user.2022-04-01 17:27:18.876 +03:00 [] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.2022-04-01 17:27:18.958 +03:00 [] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 8072.6472ms2022-04-01 17:27:18.959 +03:00 [] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 17:27:18.970 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/account/login application/json-patch+json 47 - 401 162 application/problem+json;+charset=utf-8 8266.1922ms2022-04-01 17:27:25.840 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/account/login application/json-patch+json 482022-04-01 17:27:25.840 +03:00 [] CORS policy execution successful.2022-04-01 17:27:25.843 +03:00 [] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 17:27:25.843 +03:00 [] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.DTOs.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).2022-04-01 17:27:25.848 +03:00 [] Login attemt for aw@example.com 2022-04-01 17:27:25.890 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 17:27:25.901 +03:00 [] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_02022-04-01 17:27:25.909 +03:00 [] Invalid password for user.2022-04-01 17:27:25.910 +03:00 [] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.2022-04-01 17:27:25.910 +03:00 [] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 66.9513ms2022-04-01 17:27:25.910 +03:00 [] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 17:27:25.911 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/account/login application/json-patch+json 48 - 401 162 application/problem+json;+charset=utf-8 70.9707ms2022-04-01 17:27:30.626 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/account/login application/json-patch+json 482022-04-01 17:27:30.631 +03:00 [] CORS policy execution successful.2022-04-01 17:27:30.632 +03:00 [] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 17:27:30.632 +03:00 [] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.DTOs.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).2022-04-01 17:27:30.648 +03:00 [] Login attemt for aw@example.com 2022-04-01 17:27:30.665 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 17:27:30.692 +03:00 [] Executed DbCommand (21ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_02022-04-01 17:27:30.706 +03:00 [] Invalid password for user.2022-04-01 17:27:30.707 +03:00 [] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.2022-04-01 17:27:30.707 +03:00 [] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 74.9936ms2022-04-01 17:27:30.707 +03:00 [] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 17:27:30.708 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/account/login application/json-patch+json 48 - 401 162 application/problem+json;+charset=utf-8 81.3202ms2022-04-01 17:28:51.328 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/account/login application/json-patch+json 472022-04-01 17:28:51.328 +03:00 [] CORS policy execution successful.2022-04-01 17:28:51.328 +03:00 [] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 17:28:51.332 +03:00 [] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.DTOs.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).2022-04-01 17:28:51.343 +03:00 [] Login attemt for aw@example.com 2022-04-01 17:28:51.345 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 17:28:51.363 +03:00 [] Executed DbCommand (13ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_02022-04-01 17:28:51.375 +03:00 [] Invalid password for user.2022-04-01 17:28:51.376 +03:00 [] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.2022-04-01 17:28:51.377 +03:00 [] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 44.7585ms2022-04-01 17:28:51.377 +03:00 [] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 17:28:51.378 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/account/login application/json-patch+json 47 - 401 162 application/problem+json;+charset=utf-8 50.1795ms2022-04-01 17:28:56.932 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/account/login application/json-patch+json 482022-04-01 17:28:56.932 +03:00 [] CORS policy execution successful.2022-04-01 17:28:56.932 +03:00 [] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 17:28:56.932 +03:00 [] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.DTOs.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).2022-04-01 17:28:56.933 +03:00 [] Login attemt for aw@example.com 2022-04-01 17:28:56.933 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 17:28:56.949 +03:00 [] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_02022-04-01 17:28:57.299 +03:00 [] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_02022-04-01 17:28:57.544 +03:00 [] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.2022-04-01 17:28:57.549 +03:00 [] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 616.6056ms2022-04-01 17:28:57.549 +03:00 [] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 17:28:57.559 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/account/login application/json-patch+json 48 - 202 348 application/json;+charset=utf-8 627.0066ms2022-04-01 18:03:26.462 +03:00 [] Application Is Starting2022-04-01 18:03:28.801 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-01 18:03:29.297 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-01 18:03:29.297 +03:00 [] Hosting environment: Development2022-04-01 18:03:29.297 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-01 18:03:29.354 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 18:03:29.547 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 196.2623ms2022-04-01 18:03:30.216 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-01 18:03:30.487 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 268.6000ms2022-04-01 18:04:41.540 +03:00 [] Application Is Starting2022-04-01 18:04:43.463 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-01 18:04:43.961 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-01 18:04:43.961 +03:00 [] Hosting environment: Development2022-04-01 18:04:43.961 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-01 18:04:44.024 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 18:04:44.242 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 209.8836ms2022-04-01 18:04:44.785 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-01 18:04:45.002 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 217.7265ms2022-04-01 18:04:52.581 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/hotel - -2022-04-01 18:04:52.645 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'2022-04-01 18:04:52.704 +03:00 [] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 18:04:54.416 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 18:04:59.134 +03:00 [] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]2022-04-01 18:04:59.238 +03:00 [] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.DTOs.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.2022-04-01 18:04:59.552 +03:00 [] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 6840.0525ms2022-04-01 18:04:59.553 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'2022-04-01 18:04:59.562 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/hotel - - - 200 297 application/json;+charset=utf-8 6980.5520ms2022-04-01 18:05:46.117 +03:00 [] Request starting HTTP/2 PUT https://localhost:44389/api/hotel?id=1 application/json-patch+json 802022-04-01 18:05:46.132 +03:00 [] CORS policy execution successful.2022-04-01 18:05:46.148 +03:00 [] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)2022-04-01 18:05:46.634 +03:00 [] AuthenticationScheme: Bearer was challenged.2022-04-01 18:05:46.643 +03:00 [] Request finished HTTP/2 PUT https://localhost:44389/api/hotel?id=1 application/json-patch+json 80 - 401 - - 526.0361ms2022-04-01 18:06:36.684 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/hotel - -2022-04-01 18:06:36.685 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'2022-04-01 18:06:36.685 +03:00 [] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 18:06:36.752 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 18:06:36.760 +03:00 [] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]2022-04-01 18:06:36.761 +03:00 [] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.DTOs.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.2022-04-01 18:06:36.761 +03:00 [] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 74.7543ms2022-04-01 18:06:36.762 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'2022-04-01 18:06:36.763 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/hotel - - - 200 297 application/json;+charset=utf-8 78.8040ms2022-04-01 18:06:48.105 +03:00 [] Request starting HTTP/2 PUT https://localhost:44389/api/hotel?id=1 application/json-patch+json 802022-04-01 18:06:48.106 +03:00 [] CORS policy execution successful.2022-04-01 18:06:48.107 +03:00 [] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)2022-04-01 18:06:48.107 +03:00 [] AuthenticationScheme: Bearer was challenged.2022-04-01 18:06:48.124 +03:00 [] Request finished HTTP/2 PUT https://localhost:44389/api/hotel?id=1 application/json-patch+json 80 - 401 - - 18.8908ms2022-04-01 18:07:25.477 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 - 02022-04-01 18:07:25.516 +03:00 [] Executing endpoint '405 HTTP Method Not Supported'2022-04-01 18:07:25.516 +03:00 [] Executed endpoint '405 HTTP Method Not Supported'2022-04-01 18:07:25.532 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 - 0 - 405 - - 44.7598ms2022-04-01 18:08:23.072 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 text/plain 1142022-04-01 18:08:23.109 +03:00 [] Executing endpoint '405 HTTP Method Not Supported'2022-04-01 18:08:23.109 +03:00 [] Executed endpoint '405 HTTP Method Not Supported'2022-04-01 18:08:23.146 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 text/plain 114 - 405 - - 74.1040ms2022-04-01 18:09:06.247 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 text/plain 1122022-04-01 18:09:06.247 +03:00 [] Executing endpoint '405 HTTP Method Not Supported'2022-04-01 18:09:06.248 +03:00 [] Executed endpoint '405 HTTP Method Not Supported'2022-04-01 18:09:06.253 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 text/plain 112 - 405 - - 6.0001ms2022-04-01 18:09:31.583 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 text/plain 1122022-04-01 18:09:31.583 +03:00 [] Executing endpoint '405 HTTP Method Not Supported'2022-04-01 18:09:31.583 +03:00 [] Executed endpoint '405 HTTP Method Not Supported'2022-04-01 18:09:31.589 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 text/plain 112 - 405 - - 6.0282ms2022-04-01 18:09:38.836 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 1122022-04-01 18:09:38.836 +03:00 [] Executing endpoint '405 HTTP Method Not Supported'2022-04-01 18:09:38.836 +03:00 [] Executed endpoint '405 HTTP Method Not Supported'2022-04-01 18:09:38.861 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 112 - 405 - - 30.0236ms2022-04-01 18:10:24.006 +03:00 [] Request starting HTTP/1.1 GET https://localhost:44389/api/Hotel/1 application/json 1122022-04-01 18:10:24.007 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'2022-04-01 18:10:24.061 +03:00 [] Route matched with {action = "GetHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 18:10:24.126 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 18:10:24.598 +03:00 [] Executed DbCommand (155ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating], [c].[Id], [c].[Name], [c].[ShortName]
FROM [Hotels] AS [h]
INNER JOIN [Countries] AS [c] ON [h].[CountryId] = [c].[Id]
WHERE [h].[Id] = @__id_02022-04-01 18:10:24.629 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Models.DTOs.HotelDTO'.2022-04-01 18:10:24.635 +03:00 [] Executed action HotelListing.Controllers.HotelController.GetHotel (HotelListing) in 573.9867ms2022-04-01 18:10:24.635 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'2022-04-01 18:10:24.636 +03:00 [] Request finished HTTP/1.1 GET https://localhost:44389/api/Hotel/1 application/json 112 - 200 151 application/json;+charset=utf-8 630.6771ms2022-04-01 18:10:58.935 +03:00 [] Request starting HTTP/1.1 POST https://localhost:44389/api/Hotel/1 - 02022-04-01 18:10:58.972 +03:00 [] Executing endpoint '405 HTTP Method Not Supported'2022-04-01 18:10:58.972 +03:00 [] Executed endpoint '405 HTTP Method Not Supported'2022-04-01 18:10:58.975 +03:00 [] Request finished HTTP/1.1 POST https://localhost:44389/api/Hotel/1 - 0 - 405 - - 38.6042ms2022-04-01 18:11:04.393 +03:00 [] Request starting HTTP/1.1 GET https://localhost:44389/api/Hotel/1 - -2022-04-01 18:11:04.394 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'2022-04-01 18:11:04.396 +03:00 [] Route matched with {action = "GetHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 18:11:04.399 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 18:11:04.418 +03:00 [] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating], [c].[Id], [c].[Name], [c].[ShortName]
FROM [Hotels] AS [h]
INNER JOIN [Countries] AS [c] ON [h].[CountryId] = [c].[Id]
WHERE [h].[Id] = @__id_02022-04-01 18:11:04.419 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Models.DTOs.HotelDTO'.2022-04-01 18:11:04.419 +03:00 [] Executed action HotelListing.Controllers.HotelController.GetHotel (HotelListing) in 22.8556ms2022-04-01 18:11:04.419 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'2022-04-01 18:11:04.420 +03:00 [] Request finished HTTP/1.1 GET https://localhost:44389/api/Hotel/1 - - - 200 151 application/json;+charset=utf-8 26.6507ms2022-04-01 18:11:51.842 +03:00 [] Application Is Starting2022-04-01 18:11:54.962 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-01 18:11:55.447 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-01 18:11:55.447 +03:00 [] Hosting environment: Development2022-04-01 18:11:55.447 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-01 18:11:55.521 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 18:11:56.010 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 493.8178ms2022-04-01 18:11:56.737 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-01 18:11:57.031 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 293.1266ms2022-04-01 18:13:02.912 +03:00 [] Request starting HTTP/1.1 GET https://localhost:44389/api/Hotel/1 application/json 1012022-04-01 18:13:02.978 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'2022-04-01 18:13:03.040 +03:00 [] Route matched with {action = "GetHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 18:13:04.838 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 18:13:07.174 +03:00 [] Executed DbCommand (388ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating], [c].[Id], [c].[Name], [c].[ShortName]
FROM [Hotels] AS [h]
INNER JOIN [Countries] AS [c] ON [h].[CountryId] = [c].[Id]
WHERE [h].[Id] = @__id_02022-04-01 18:13:07.320 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Models.DTOs.HotelDTO'.2022-04-01 18:13:07.689 +03:00 [] Executed action HotelListing.Controllers.HotelController.GetHotel (HotelListing) in 4635.8542ms2022-04-01 18:13:07.690 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'2022-04-01 18:13:07.700 +03:00 [] Request finished HTTP/1.1 GET https://localhost:44389/api/Hotel/1 application/json 101 - 200 151 application/json;+charset=utf-8 4788.5332ms2022-04-01 18:13:22.121 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 1012022-04-01 18:13:22.123 +03:00 [] Executing endpoint '405 HTTP Method Not Supported'2022-04-01 18:13:22.123 +03:00 [] Executed endpoint '405 HTTP Method Not Supported'2022-04-01 18:13:22.125 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 101 - 405 - - 4.1002ms2022-04-01 18:13:52.685 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 1012022-04-01 18:13:52.692 +03:00 [] Executing endpoint '405 HTTP Method Not Supported'2022-04-01 18:13:52.692 +03:00 [] Executed endpoint '405 HTTP Method Not Supported'2022-04-01 18:13:52.694 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 101 - 405 - - 9.1167ms2022-04-01 18:13:59.349 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 1012022-04-01 18:13:59.349 +03:00 [] Executing endpoint '405 HTTP Method Not Supported'2022-04-01 18:13:59.349 +03:00 [] Executed endpoint '405 HTTP Method Not Supported'2022-04-01 18:13:59.352 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 101 - 405 - - 1.7499ms2022-04-01 18:16:21.011 +03:00 [] Application Is Starting2022-04-01 18:16:22.962 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-01 18:16:23.369 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-01 18:16:23.369 +03:00 [] Hosting environment: Development2022-04-01 18:16:23.369 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-01 18:16:23.446 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 18:16:23.761 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 323.2316ms2022-04-01 18:16:24.222 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-01 18:16:24.382 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 159.6600ms2022-04-01 18:16:26.546 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 1012022-04-01 18:16:26.592 +03:00 [] Executing endpoint '405 HTTP Method Not Supported'2022-04-01 18:16:26.592 +03:00 [] Executed endpoint '405 HTTP Method Not Supported'2022-04-01 18:16:26.594 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 101 - 405 - - 46.8635ms2022-04-01 18:17:14.528 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 1012022-04-01 18:17:14.537 +03:00 [] Executing endpoint '405 HTTP Method Not Supported'2022-04-01 18:17:14.537 +03:00 [] Executed endpoint '405 HTTP Method Not Supported'2022-04-01 18:17:14.543 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 101 - 405 - - 15.2516ms2022-04-01 18:17:32.819 +03:00 [] Request starting HTTP/2 PUT https://localhost:44389/api/hotel?id=1 application/json-patch+json 792022-04-01 18:17:32.842 +03:00 [] CORS policy execution successful.2022-04-01 18:17:32.876 +03:00 [] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.2022-04-01 18:17:33.216 +03:00 [] AuthenticationScheme: Bearer was challenged.2022-04-01 18:17:33.219 +03:00 [] Request finished HTTP/2 PUT https://localhost:44389/api/hotel?id=1 application/json-patch+json 79 - 401 - - 400.3627ms2022-04-01 18:18:00.423 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 1012022-04-01 18:18:00.424 +03:00 [] Executing endpoint '405 HTTP Method Not Supported'2022-04-01 18:18:00.424 +03:00 [] Executed endpoint '405 HTTP Method Not Supported'2022-04-01 18:18:00.440 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 101 - 405 - - 16.1467ms2022-04-01 18:19:10.638 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/account/login application/json-patch+json 472022-04-01 18:19:10.646 +03:00 [] CORS policy execution successful.2022-04-01 18:19:10.657 +03:00 [] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 18:19:10.855 +03:00 [] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.DTOs.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).2022-04-01 18:19:11.730 +03:00 [] Login attemt for aw@example.com 2022-04-01 18:19:13.440 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 18:19:16.001 +03:00 [] Executed DbCommand (542ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_02022-04-01 18:19:16.270 +03:00 [] Invalid password for user.2022-04-01 18:19:16.286 +03:00 [] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.2022-04-01 18:19:16.448 +03:00 [] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 5580.2306ms2022-04-01 18:19:16.451 +03:00 [] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 18:19:16.463 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/account/login application/json-patch+json 47 - 401 162 application/problem+json;+charset=utf-8 5824.5547ms2022-04-01 18:20:02.757 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/account/login application/json-patch+json 482022-04-01 18:20:02.757 +03:00 [] CORS policy execution successful.2022-04-01 18:20:02.758 +03:00 [] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 18:20:02.760 +03:00 [] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.DTOs.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).2022-04-01 18:20:02.765 +03:00 [] Login attemt for aw@example.com 2022-04-01 18:20:02.847 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 18:20:03.003 +03:00 [] Executed DbCommand (148ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_02022-04-01 18:20:03.261 +03:00 [] Executed DbCommand (129ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_02022-04-01 18:20:03.552 +03:00 [] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.2022-04-01 18:20:03.571 +03:00 [] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 810.5106ms2022-04-01 18:20:03.571 +03:00 [] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 18:20:03.572 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/account/login application/json-patch+json 48 - 202 348 application/json;+charset=utf-8 815.3771ms2022-04-01 18:20:17.869 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 1092022-04-01 18:20:17.869 +03:00 [] Executing endpoint '405 HTTP Method Not Supported'2022-04-01 18:20:17.869 +03:00 [] Executed endpoint '405 HTTP Method Not Supported'2022-04-01 18:20:17.943 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 109 - 405 - - 58.0486ms2022-04-01 18:21:13.882 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 1092022-04-01 18:21:13.882 +03:00 [] Executing endpoint '405 HTTP Method Not Supported'2022-04-01 18:21:13.882 +03:00 [] Executed endpoint '405 HTTP Method Not Supported'2022-04-01 18:21:13.904 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 109 - 405 - - 21.3998ms2022-04-01 18:21:52.627 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 1092022-04-01 18:21:52.628 +03:00 [] Executing endpoint '405 HTTP Method Not Supported'2022-04-01 18:21:52.628 +03:00 [] Executed endpoint '405 HTTP Method Not Supported'2022-04-01 18:21:52.633 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 109 - 405 - - 4.4040ms2022-04-01 18:22:05.783 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 1092022-04-01 18:22:05.783 +03:00 [] Executing endpoint '405 HTTP Method Not Supported'2022-04-01 18:22:05.783 +03:00 [] Executed endpoint '405 HTTP Method Not Supported'2022-04-01 18:22:05.786 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 109 - 405 - - 2.4167ms2022-04-01 18:22:21.354 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 1092022-04-01 18:22:21.355 +03:00 [] Executing endpoint '405 HTTP Method Not Supported'2022-04-01 18:22:21.379 +03:00 [] Executed endpoint '405 HTTP Method Not Supported'2022-04-01 18:22:21.500 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 109 - 405 - - 145.8846ms2022-04-01 18:22:27.463 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/Hotel/3 application/json 1092022-04-01 18:22:27.463 +03:00 [] Executing endpoint '405 HTTP Method Not Supported'2022-04-01 18:22:27.463 +03:00 [] Executed endpoint '405 HTTP Method Not Supported'2022-04-01 18:22:27.464 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/Hotel/3 application/json 109 - 405 - - 1.0212ms2022-04-01 18:22:31.002 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/Hotel/4 application/json 1092022-04-01 18:22:31.002 +03:00 [] Executing endpoint '405 HTTP Method Not Supported'2022-04-01 18:22:31.002 +03:00 [] Executed endpoint '405 HTTP Method Not Supported'2022-04-01 18:22:31.004 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/Hotel/4 application/json 109 - 405 - - 2.0860ms2022-04-01 18:22:41.617 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 1102022-04-01 18:22:41.617 +03:00 [] Executing endpoint '405 HTTP Method Not Supported'2022-04-01 18:22:41.617 +03:00 [] Executed endpoint '405 HTTP Method Not Supported'2022-04-01 18:22:41.700 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/Hotel/1 application/json 110 - 405 - - 82.8430ms2022-04-01 18:22:59.327 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 1102022-04-01 18:22:59.327 +03:00 [] Executing endpoint '405 HTTP Method Not Supported'2022-04-01 18:22:59.327 +03:00 [] Executed endpoint '405 HTTP Method Not Supported'2022-04-01 18:22:59.390 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 110 - 405 - - 63.2400ms2022-04-01 18:23:05.700 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 1102022-04-01 18:23:05.701 +03:00 [] Executing endpoint '405 HTTP Method Not Supported'2022-04-01 18:23:05.701 +03:00 [] Executed endpoint '405 HTTP Method Not Supported'2022-04-01 18:23:05.715 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 110 - 405 - - 15.2153ms2022-04-01 18:23:30.170 +03:00 [] Request starting HTTP/2 PUT https://localhost:44389/api/hotel?id=1 application/json-patch+json 802022-04-01 18:23:30.171 +03:00 [] CORS policy execution successful.2022-04-01 18:23:30.175 +03:00 [] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.2022-04-01 18:23:30.178 +03:00 [] AuthenticationScheme: Bearer was challenged.2022-04-01 18:23:30.198 +03:00 [] Request finished HTTP/2 PUT https://localhost:44389/api/hotel?id=1 application/json-patch+json 80 - 401 - - 28.3189ms2022-04-01 18:23:46.691 +03:00 [] Request starting HTTP/1.1 GET https://localhost:44389/api/hotel/1 application/json 1102022-04-01 18:23:46.696 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'2022-04-01 18:23:46.707 +03:00 [] Route matched with {action = "GetHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 18:23:46.725 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 18:23:46.792 +03:00 [] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating], [c].[Id], [c].[Name], [c].[ShortName]
FROM [Hotels] AS [h]
INNER JOIN [Countries] AS [c] ON [h].[CountryId] = [c].[Id]
WHERE [h].[Id] = @__id_02022-04-01 18:23:46.852 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Models.DTOs.HotelDTO'.2022-04-01 18:23:46.869 +03:00 [] Executed action HotelListing.Controllers.HotelController.GetHotel (HotelListing) in 162.0495ms2022-04-01 18:23:46.869 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'2022-04-01 18:23:46.870 +03:00 [] Request finished HTTP/1.1 GET https://localhost:44389/api/hotel/1 application/json 110 - 200 151 application/json;+charset=utf-8 179.2182ms2022-04-01 18:23:53.020 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 1102022-04-01 18:23:53.020 +03:00 [] Executing endpoint '405 HTTP Method Not Supported'2022-04-01 18:23:53.020 +03:00 [] Executed endpoint '405 HTTP Method Not Supported'2022-04-01 18:23:53.021 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 110 - 405 - - 1.4418ms2022-04-01 18:24:50.319 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/hotel/ application/json 1102022-04-01 18:24:50.330 +03:00 [] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.2022-04-01 18:24:50.420 +03:00 [] Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-04-01 18:24:50.517 +03:00 [] AuthenticationScheme: Bearer was challenged.2022-04-01 18:24:50.519 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/hotel/ application/json 110 - 401 - - 199.2182ms2022-04-01 18:26:16.589 +03:00 [] Request starting HTTP/1.1 POST https://localhost:44389/api/account text/plain 602022-04-01 18:26:16.602 +03:00 [] Request finished HTTP/1.1 POST https://localhost:44389/api/account text/plain 60 - 404 - - 11.5351ms2022-04-01 18:26:36.365 +03:00 [] Request starting HTTP/1.1 POST https://localhost:44389/api/account text/plain 602022-04-01 18:26:36.366 +03:00 [] Request finished HTTP/1.1 POST https://localhost:44389/api/account text/plain 60 - 404 - - 1.0504ms2022-04-01 18:26:40.623 +03:00 [] Request starting HTTP/1.1 GET https://localhost:44389/api/account text/plain 602022-04-01 18:26:40.665 +03:00 [] Request finished HTTP/1.1 GET https://localhost:44389/api/account text/plain 60 - 404 - - 41.8905ms2022-04-01 18:26:44.020 +03:00 [] Request starting HTTP/1.1 POST https://localhost:44389/api/account text/plain 602022-04-01 18:26:44.021 +03:00 [] Request finished HTTP/1.1 POST https://localhost:44389/api/account text/plain 60 - 404 - - 0.9838ms2022-04-01 18:26:46.985 +03:00 [] Request starting HTTP/1.1 POST https://localhost:44389/api/account application/json 602022-04-01 18:26:46.986 +03:00 [] Request finished HTTP/1.1 POST https://localhost:44389/api/account application/json 60 - 404 - - 0.8882ms2022-04-01 18:26:59.851 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/account/login application/json-patch+json 482022-04-01 18:26:59.851 +03:00 [] CORS policy execution successful.2022-04-01 18:26:59.851 +03:00 [] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 18:26:59.851 +03:00 [] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.DTOs.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).2022-04-01 18:26:59.883 +03:00 [] Login attemt for aw@example.com 2022-04-01 18:26:59.884 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 18:26:59.893 +03:00 [] Executed DbCommand (8ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_02022-04-01 18:26:59.921 +03:00 [] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_02022-04-01 18:26:59.922 +03:00 [] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.2022-04-01 18:26:59.924 +03:00 [] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 73.1086ms2022-04-01 18:26:59.924 +03:00 [] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 18:26:59.925 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/account/login application/json-patch+json 48 - 202 348 application/json;+charset=utf-8 74.2615ms2022-04-01 18:27:18.441 +03:00 [] Request starting HTTP/1.1 POST https://localhost:44389/api/account/login application/json 602022-04-01 18:27:18.442 +03:00 [] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 18:27:18.442 +03:00 [] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.DTOs.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).2022-04-01 18:27:18.444 +03:00 [] Login attemt for aw@example.com 2022-04-01 18:27:18.445 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 18:27:18.447 +03:00 [] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_02022-04-01 18:27:18.514 +03:00 [] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_02022-04-01 18:27:18.515 +03:00 [] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.2022-04-01 18:27:18.516 +03:00 [] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 73.6552ms2022-04-01 18:27:18.516 +03:00 [] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 18:27:18.516 +03:00 [] Request finished HTTP/1.1 POST https://localhost:44389/api/account/login application/json 60 - 202 348 application/json;+charset=utf-8 74.5921ms2022-04-01 18:27:41.785 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/hotel/ application/json 1102022-04-01 18:27:41.786 +03:00 [] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.2022-04-01 18:27:41.787 +03:00 [] Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-04-01 18:27:41.788 +03:00 [] AuthenticationScheme: Bearer was challenged.2022-04-01 18:27:41.792 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/hotel/ application/json 110 - 401 - - 6.1634ms2022-04-01 18:28:01.952 +03:00 [] Request starting HTTP/1.1 POST https://localhost:44389/api/account/login application/json 602022-04-01 18:28:01.952 +03:00 [] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 18:28:01.953 +03:00 [] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.DTOs.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).2022-04-01 18:28:01.988 +03:00 [] Login attemt for aw@example.com 2022-04-01 18:28:01.988 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 18:28:01.995 +03:00 [] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_02022-04-01 18:28:02.012 +03:00 [] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_02022-04-01 18:28:02.018 +03:00 [] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.2022-04-01 18:28:02.018 +03:00 [] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 65.1982ms2022-04-01 18:28:02.019 +03:00 [] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 18:28:02.019 +03:00 [] Request finished HTTP/1.1 POST https://localhost:44389/api/account/login application/json 60 - 202 348 application/json;+charset=utf-8 66.9689ms2022-04-01 18:28:18.759 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/hotel/ application/json 1102022-04-01 18:28:18.759 +03:00 [] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.2022-04-01 18:28:18.760 +03:00 [] Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-04-01 18:28:18.761 +03:00 [] AuthenticationScheme: Bearer was challenged.2022-04-01 18:28:18.783 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/hotel/ application/json 110 - 401 - - 23.9469ms2022-04-01 18:28:45.522 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/hotel/ application/json 1102022-04-01 18:28:45.522 +03:00 [] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.2022-04-01 18:28:45.523 +03:00 [] AuthenticationScheme: Bearer was challenged.2022-04-01 18:28:45.532 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/hotel/ application/json 110 - 401 - - 10.2705ms2022-04-01 18:29:24.273 +03:00 [] Application Is Starting2022-04-01 18:29:28.569 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-01 18:29:29.598 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-01 18:29:29.599 +03:00 [] Hosting environment: Development2022-04-01 18:29:29.599 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-01 18:29:29.820 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/hotel/ application/json 1102022-04-01 18:29:29.821 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 18:29:30.051 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.UpdateHotel (HotelListing)'2022-04-01 18:29:30.197 +03:00 [] Route matched with {action = "UpdateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateHotel(Int32, HotelListing.Models.DTOs.UpdateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 18:29:30.276 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 460.5158ms2022-04-01 18:29:31.212 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-01 18:29:31.861 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 648.9305ms2022-04-01 18:29:44.925 +03:00 [] Invalid UPDATE attemt in UpdateHotel2022-04-01 18:29:57.569 +03:00 [] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'.2022-04-01 18:29:57.641 +03:00 [] Executed action HotelListing.Controllers.HotelController.UpdateHotel (HotelListing) in 27429.5912ms2022-04-01 18:29:57.643 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.UpdateHotel (HotelListing)'2022-04-01 18:29:57.646 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/hotel/ application/json 110 - 400 2 application/json;+charset=utf-8 27832.7392ms2022-04-01 18:31:28.965 +03:00 [] Application Is Starting2022-04-01 18:31:33.840 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-01 18:31:34.464 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-01 18:31:34.465 +03:00 [] Hosting environment: Development2022-04-01 18:31:34.465 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-01 18:31:34.532 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 18:31:34.857 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 330.7012ms2022-04-01 18:31:36.134 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/hotel/ application/json 1102022-04-01 18:31:36.265 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.UpdateHotel (HotelListing)'2022-04-01 18:31:36.473 +03:00 [] Route matched with {action = "UpdateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateHotel(Int32, HotelListing.Models.DTOs.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 18:32:45.673 +03:00 [] Application Is Starting2022-04-01 18:32:49.939 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-01 18:32:50.598 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-01 18:32:50.598 +03:00 [] Hosting environment: Development2022-04-01 18:32:50.598 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-01 18:32:50.671 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 18:32:51.130 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 464.0304ms2022-04-01 18:32:52.195 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-01 18:32:52.489 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 294.2770ms2022-04-01 18:33:07.082 +03:00 [] Request starting HTTP/2 PUT https://localhost:44389/api/hotel?id=1 application/json-patch+json 802022-04-01 18:33:07.118 +03:00 [] CORS policy execution successful.2022-04-01 18:33:07.254 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.UpdateHotel (HotelListing)'2022-04-01 18:33:07.400 +03:00 [] Route matched with {action = "UpdateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateHotel(Int32, HotelListing.Models.DTOs.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 18:33:19.532 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 18:33:34.653 +03:00 [] Executed DbCommand (499ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_02022-04-01 18:34:40.754 +03:00 [] Executed DbCommand (68ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Hotels] SET [Address] = @p0, [CountryId] = @p1, [Name] = @p2, [Rating] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;2022-04-01 18:34:52.298 +03:00 [] Executing HttpStatusCodeResult, setting HTTP status code 2042022-04-01 18:34:52.307 +03:00 [] Executed action HotelListing.Controllers.HotelController.UpdateHotel (HotelListing) in 104897.9734ms2022-04-01 18:34:52.309 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.UpdateHotel (HotelListing)'2022-04-01 18:35:26.849 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 1092022-04-01 18:35:26.855 +03:00 [] Executing endpoint '405 HTTP Method Not Supported'2022-04-01 18:35:26.855 +03:00 [] Executed endpoint '405 HTTP Method Not Supported'2022-04-01 18:35:26.856 +03:00 [] Request finished HTTP/2 PUT https://localhost:44389/api/hotel?id=1 application/json-patch+json 80 - 204 - - 139773.8384ms2022-04-01 18:35:26.865 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 109 - 405 - - 13.0298ms2022-04-01 18:35:48.226 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/hotel/1 multipart/form-data;+boundary=--------------------------958259938900745845793282 1562022-04-01 18:35:48.227 +03:00 [] Executing endpoint '405 HTTP Method Not Supported'2022-04-01 18:35:48.227 +03:00 [] Executed endpoint '405 HTTP Method Not Supported'2022-04-01 18:35:48.230 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/hotel/1 multipart/form-data;+boundary=--------------------------958259938900745845793282 156 - 405 - - 3.8882ms2022-04-01 18:37:45.101 +03:00 [] Application Is Starting2022-04-01 18:37:48.561 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-01 18:37:49.183 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-01 18:37:49.184 +03:00 [] Hosting environment: Development2022-04-01 18:37:49.184 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-01 18:37:49.264 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 18:37:49.567 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 312.2490ms2022-04-01 18:37:50.979 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-01 18:37:51.211 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 232.1949ms2022-04-01 18:38:06.569 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 1092022-04-01 18:38:06.794 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.UpdateHotel (HotelListing)'2022-04-01 18:38:06.909 +03:00 [] Route matched with {action = "UpdateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateHotel(Int32, HotelListing.Models.DTOs.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 18:38:15.067 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 18:38:18.516 +03:00 [] Executed DbCommand (137ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_02022-04-01 18:38:19.006 +03:00 [] Executed DbCommand (14ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Hotels] SET [Address] = @p0, [CountryId] = @p1, [Name] = @p2, [Rating] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;2022-04-01 18:38:19.060 +03:00 [] Executing HttpStatusCodeResult, setting HTTP status code 2042022-04-01 18:38:19.075 +03:00 [] Executed action HotelListing.Controllers.HotelController.UpdateHotel (HotelListing) in 12150.6731ms2022-04-01 18:38:19.076 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.UpdateHotel (HotelListing)'2022-04-01 18:38:19.097 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 109 - 204 - - 12528.8561ms2022-04-01 18:38:31.973 +03:00 [] Request starting HTTP/1.1 GET https://localhost:44389/api/hotel/1 application/json 1092022-04-01 18:38:31.976 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'2022-04-01 18:38:31.979 +03:00 [] Route matched with {action = "GetHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 18:38:32.022 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 18:38:32.098 +03:00 [] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating], [c].[Id], [c].[Name], [c].[ShortName]
FROM [Hotels] AS [h]
INNER JOIN [Countries] AS [c] ON [h].[CountryId] = [c].[Id]
WHERE [h].[Id] = @__id_02022-04-01 18:38:32.139 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Models.DTOs.HotelDTO'.2022-04-01 18:38:32.198 +03:00 [] Executed action HotelListing.Controllers.HotelController.GetHotel (HotelListing) in 218.4832ms2022-04-01 18:38:32.198 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'2022-04-01 18:38:32.199 +03:00 [] Request finished HTTP/1.1 GET https://localhost:44389/api/hotel/1 application/json 109 - 200 151 application/json;+charset=utf-8 225.5396ms2022-04-01 18:39:54.508 +03:00 [] Application Is Starting2022-04-01 18:39:56.282 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-01 18:39:57.098 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-01 18:39:57.098 +03:00 [] Hosting environment: Development2022-04-01 18:39:57.099 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-01 18:39:57.265 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 18:39:57.625 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 358.3713ms2022-04-01 18:39:58.999 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-01 18:39:59.110 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 110.7660ms2022-04-01 18:40:06.711 +03:00 [] Request starting HTTP/1.1 POST https://localhost:44389/api/account/login application/json 602022-04-01 18:40:06.781 +03:00 [] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 18:40:06.843 +03:00 [] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.DTOs.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).2022-04-01 18:40:07.682 +03:00 [] Login attemt for aw@example.com 2022-04-01 18:40:08.983 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 18:40:10.015 +03:00 [] Executed DbCommand (89ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_02022-04-01 18:40:10.376 +03:00 [] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_02022-04-01 18:40:10.542 +03:00 [] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.2022-04-01 18:40:10.600 +03:00 [] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 3751.2663ms2022-04-01 18:40:10.601 +03:00 [] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-01 18:40:10.612 +03:00 [] Request finished HTTP/1.1 POST https://localhost:44389/api/account/login application/json 60 - 202 348 application/json;+charset=utf-8 3900.7543ms2022-04-01 18:40:47.049 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 1102022-04-01 18:40:47.079 +03:00 [] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.2022-04-01 18:40:47.343 +03:00 [] Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-04-01 18:40:47.432 +03:00 [] AuthenticationScheme: Bearer was challenged.2022-04-01 18:40:47.444 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 110 - 401 - - 390.9021ms2022-04-01 18:41:30.490 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 1102022-04-01 18:41:30.493 +03:00 [] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.2022-04-01 18:41:30.500 +03:00 [] Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-04-01 18:41:30.500 +03:00 [] AuthenticationScheme: Bearer was challenged.2022-04-01 18:41:30.501 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 110 - 401 - - 11.3074ms2022-04-01 18:41:31.474 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 1102022-04-01 18:41:31.475 +03:00 [] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.2022-04-01 18:41:31.483 +03:00 [] Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-04-01 18:41:31.483 +03:00 [] AuthenticationScheme: Bearer was challenged.2022-04-01 18:41:31.490 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 110 - 401 - - 15.5565ms2022-04-01 18:42:58.652 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 1102022-04-01 18:42:58.653 +03:00 [] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.2022-04-01 18:42:58.653 +03:00 [] AuthenticationScheme: Bearer was challenged.2022-04-01 18:42:58.673 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 110 - 401 - - 23.5305ms2022-04-01 18:43:15.246 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 1102022-04-01 18:43:15.247 +03:00 [] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.2022-04-01 18:43:15.247 +03:00 [] AuthenticationScheme: Bearer was challenged.2022-04-01 18:43:15.252 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 110 - 401 - - 5.3461ms2022-04-01 18:43:27.505 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 1102022-04-01 18:43:27.507 +03:00 [] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.2022-04-01 18:43:27.518 +03:00 [] Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-04-01 18:43:27.518 +03:00 [] AuthenticationScheme: Bearer was challenged.2022-04-01 18:43:27.545 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 110 - 401 - - 40.1056ms2022-04-01 18:43:49.191 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 1102022-04-01 18:43:49.191 +03:00 [] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.2022-04-01 18:43:49.196 +03:00 [] Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-04-01 18:43:49.197 +03:00 [] AuthenticationScheme: Bearer was challenged.2022-04-01 18:43:49.201 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 110 - 401 - - 9.9942ms2022-04-01 18:44:46.258 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 1102022-04-01 18:44:46.258 +03:00 [] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.2022-04-01 18:44:46.261 +03:00 [] Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-04-01 18:44:46.261 +03:00 [] AuthenticationScheme: Bearer was challenged.2022-04-01 18:44:46.266 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 110 - 401 - - 8.4869ms2022-04-01 18:45:26.657 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 1102022-04-01 18:45:26.658 +03:00 [] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.2022-04-01 18:45:26.659 +03:00 [] Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-04-01 18:45:26.660 +03:00 [] AuthenticationScheme: Bearer was challenged.2022-04-01 18:45:26.674 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 110 - 401 - - 16.9805ms2022-04-01 18:46:10.988 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 1102022-04-01 18:46:10.989 +03:00 [] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.2022-04-01 18:46:10.989 +03:00 [] Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-04-01 18:46:10.989 +03:00 [] AuthenticationScheme: Bearer was challenged.2022-04-01 18:46:10.991 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/hotel/1 application/json 110 - 401 - - 2.0665ms2022-04-01 18:49:45.556 +03:00 [] Application Is Starting2022-04-01 18:49:47.659 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-01 18:49:48.117 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-01 18:49:48.118 +03:00 [] Hosting environment: Development2022-04-01 18:49:48.118 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-01 18:49:48.164 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 18:49:48.350 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 188.8054ms2022-04-01 18:49:48.943 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-01 18:49:49.137 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 193.7077ms2022-04-01 18:50:09.493 +03:00 [] Request starting HTTP/2 PUT https://localhost:44389/api/hotel/1 application/json-patch+json 802022-04-01 18:50:09.522 +03:00 [] CORS policy execution successful.2022-04-01 18:50:09.622 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.UpdateHotel (HotelListing)'2022-04-01 18:50:09.748 +03:00 [] Route matched with {action = "UpdateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateHotel(Int32, HotelListing.Models.DTOs.UpdateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 18:50:18.125 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 18:50:23.463 +03:00 [] Executed DbCommand (85ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_02022-04-01 18:50:23.762 +03:00 [] Executed DbCommand (10ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Hotels] SET [Address] = @p0, [CountryId] = @p1, [Name] = @p2, [Rating] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;2022-04-01 18:50:23.803 +03:00 [] Executing HttpStatusCodeResult, setting HTTP status code 2042022-04-01 18:50:23.811 +03:00 [] Executed action HotelListing.Controllers.HotelController.UpdateHotel (HotelListing) in 14052.465ms2022-04-01 18:50:23.812 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.UpdateHotel (HotelListing)'2022-04-01 18:50:23.820 +03:00 [] Request finished HTTP/2 PUT https://localhost:44389/api/hotel/1 application/json-patch+json 80 - 204 - - 14327.0631ms2022-04-01 18:50:34.473 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/hotel/1 - -2022-04-01 18:50:34.480 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'2022-04-01 18:50:34.490 +03:00 [] Route matched with {action = "GetHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 18:50:34.590 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 18:50:34.700 +03:00 [] Executed DbCommand (20ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating], [c].[Id], [c].[Name], [c].[ShortName]
FROM [Hotels] AS [h]
INNER JOIN [Countries] AS [c] ON [h].[CountryId] = [c].[Id]
WHERE [h].[Id] = @__id_02022-04-01 18:50:34.757 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Models.DTOs.HotelDTO'.2022-04-01 18:50:34.855 +03:00 [] Executed action HotelListing.Controllers.HotelController.GetHotel (HotelListing) in 364.2233ms2022-04-01 18:50:34.855 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'2022-04-01 18:50:34.856 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/hotel/1 - - - 200 152 application/json;+charset=utf-8 383.3340ms2022-04-01 19:07:36.555 +03:00 [] Application Is Starting2022-04-01 19:07:39.883 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-01 19:07:40.639 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-01 19:07:40.640 +03:00 [] Hosting environment: Development2022-04-01 19:07:40.640 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-01 19:07:40.721 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 19:07:40.965 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 249.3872ms2022-04-01 19:07:41.715 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-01 19:07:41.998 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 282.9617ms2022-04-01 19:10:18.423 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 1402022-04-01 19:10:18.433 +03:00 [] CORS policy execution successful.2022-04-01 19:10:18.483 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'2022-04-01 19:10:18.613 +03:00 [] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.DTOs.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 19:10:19.628 +03:00 [] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.2022-04-01 19:10:19.737 +03:00 [] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 1114.3763ms2022-04-01 19:10:19.738 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'2022-04-01 19:10:19.742 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 140 - 400 323 application/problem+json;+charset=utf-8 1319.1923ms2022-04-01 19:10:58.187 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 1402022-04-01 19:10:58.195 +03:00 [] CORS policy execution successful.2022-04-01 19:10:58.196 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'2022-04-01 19:10:58.197 +03:00 [] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.DTOs.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 19:10:58.213 +03:00 [] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.2022-04-01 19:10:58.214 +03:00 [] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 17.2143ms2022-04-01 19:10:58.214 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'2022-04-01 19:10:58.215 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 140 - 400 323 application/problem+json;+charset=utf-8 27.8932ms2022-04-01 19:11:14.934 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 1402022-04-01 19:11:14.935 +03:00 [] CORS policy execution successful.2022-04-01 19:11:14.935 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'2022-04-01 19:11:14.935 +03:00 [] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.DTOs.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 19:11:14.942 +03:00 [] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.2022-04-01 19:11:14.944 +03:00 [] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 8.7821ms2022-04-01 19:11:14.944 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'2022-04-01 19:11:14.945 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 140 - 400 317 application/problem+json;+charset=utf-8 11.5537ms2022-04-01 19:11:49.784 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/hotel - -2022-04-01 19:11:49.788 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'2022-04-01 19:11:49.793 +03:00 [] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 19:11:51.251 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 19:11:56.304 +03:00 [] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]2022-04-01 19:11:56.471 +03:00 [] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.DTOs.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.2022-04-01 19:11:56.487 +03:00 [] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 6694.1885ms2022-04-01 19:11:56.488 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'2022-04-01 19:11:56.505 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/hotel - - - 200 298 application/json;+charset=utf-8 6721.5216ms2022-04-01 19:12:15.861 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 1422022-04-01 19:12:15.862 +03:00 [] CORS policy execution successful.2022-04-01 19:12:15.862 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'2022-04-01 19:12:15.862 +03:00 [] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.DTOs.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 19:12:15.863 +03:00 [] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.2022-04-01 19:12:15.872 +03:00 [] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 9.4499ms2022-04-01 19:12:15.872 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'2022-04-01 19:12:15.888 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 142 - 400 317 application/problem+json;+charset=utf-8 26.6051ms2022-04-01 19:12:19.155 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 1422022-04-01 19:12:19.155 +03:00 [] CORS policy execution successful.2022-04-01 19:12:19.155 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'2022-04-01 19:12:19.155 +03:00 [] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.DTOs.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 19:12:19.164 +03:00 [] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.2022-04-01 19:12:19.170 +03:00 [] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 14.3071ms2022-04-01 19:12:19.170 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'2022-04-01 19:12:19.172 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 142 - 400 317 application/problem+json;+charset=utf-8 17.5565ms2022-04-01 19:12:51.458 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 1262022-04-01 19:12:51.458 +03:00 [] CORS policy execution successful.2022-04-01 19:12:51.458 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'2022-04-01 19:12:51.459 +03:00 [] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.DTOs.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 19:12:51.563 +03:00 [] Registration attemt for HotelListing.Models.DTOs.CreateHotelDTO 2022-04-01 19:12:51.660 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 19:12:51.917 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Data.Hotel'.2022-04-01 19:12:51.920 +03:00 [] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 461.7342ms2022-04-01 19:12:51.921 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'2022-04-01 19:12:51.925 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 126 - 200 148 application/json;+charset=utf-8 466.9181ms2022-04-01 19:13:15.829 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/hotel - -2022-04-01 19:13:15.830 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'2022-04-01 19:13:15.830 +03:00 [] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 19:13:15.850 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 19:13:15.869 +03:00 [] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]2022-04-01 19:13:15.870 +03:00 [] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.DTOs.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.2022-04-01 19:13:15.904 +03:00 [] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 74.3735ms2022-04-01 19:13:15.908 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'2022-04-01 19:13:15.908 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/hotel - - - 200 298 application/json;+charset=utf-8 78.7520ms2022-04-01 19:18:13.577 +03:00 [] Application Is Starting2022-04-01 19:18:16.113 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-01 19:18:16.544 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-01 19:18:16.545 +03:00 [] Hosting environment: Development2022-04-01 19:18:16.545 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-01 19:18:16.591 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 19:18:16.766 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 178.0443ms2022-04-01 19:18:17.425 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-01 19:18:17.674 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 249.1754ms2022-04-01 19:18:29.871 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/hotel - -2022-04-01 19:18:29.942 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'2022-04-01 19:18:30.000 +03:00 [] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 19:18:31.964 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 19:18:32.691 +03:00 [] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]2022-04-01 19:18:32.762 +03:00 [] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.DTOs.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.2022-04-01 19:18:32.972 +03:00 [] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 2966.1259ms2022-04-01 19:18:32.972 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'2022-04-01 19:18:32.979 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/hotel - - - 200 298 application/json;+charset=utf-8 3107.9131ms2022-04-01 19:18:47.497 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country - -2022-04-01 19:18:47.500 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'2022-04-01 19:18:47.515 +03:00 [] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-01 19:18:47.563 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 19:18:47.573 +03:00 [] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]2022-04-01 19:18:47.593 +03:00 [] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.DTOs.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.2022-04-01 19:18:47.598 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 82.6345ms2022-04-01 19:18:47.598 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'2022-04-01 19:18:47.599 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country - - - 200 225 application/json;+charset=utf-8 114.6065ms2022-04-01 19:19:01.401 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 1472022-04-01 19:19:01.412 +03:00 [] CORS policy execution successful.2022-04-01 19:19:01.413 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'2022-04-01 19:19:01.428 +03:00 [] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.DTOs.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 19:19:01.484 +03:00 [] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.2022-04-01 19:19:01.525 +03:00 [] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 95.8897ms2022-04-01 19:19:01.525 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'2022-04-01 19:19:01.529 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 147 - 400 280 application/problem+json;+charset=utf-8 128.0367ms2022-04-01 19:19:22.833 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 1262022-04-01 19:19:22.833 +03:00 [] CORS policy execution successful.2022-04-01 19:19:22.834 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'2022-04-01 19:19:22.840 +03:00 [] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.DTOs.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 19:19:22.886 +03:00 [] Registration attemt for HotelListing.Models.DTOs.CreateHotelDTO 2022-04-01 19:19:22.897 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 19:19:22.980 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Data.Hotel'.2022-04-01 19:19:22.983 +03:00 [] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 142.8875ms2022-04-01 19:19:22.983 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'2022-04-01 19:19:22.989 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 126 - 200 148 application/json;+charset=utf-8 156.3660ms2022-04-01 19:19:36.179 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/hotel - -2022-04-01 19:19:36.180 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'2022-04-01 19:19:36.180 +03:00 [] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 19:19:36.186 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 19:19:36.190 +03:00 [] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]2022-04-01 19:19:36.191 +03:00 [] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.DTOs.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.2022-04-01 19:19:36.192 +03:00 [] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 11.9175ms2022-04-01 19:19:36.192 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'2022-04-01 19:19:36.192 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/hotel - - - 200 298 application/json;+charset=utf-8 12.8692ms2022-04-01 19:26:23.692 +03:00 [] Application Is Starting2022-04-01 19:26:26.811 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-01 19:26:27.489 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-01 19:26:27.490 +03:00 [] Hosting environment: Development2022-04-01 19:26:27.490 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-01 19:26:27.609 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 19:26:27.837 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 231.3897ms2022-04-01 19:26:28.743 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-01 19:26:29.072 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 329.1637ms2022-04-01 19:27:26.204 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 1262022-04-01 19:27:26.227 +03:00 [] CORS policy execution successful.2022-04-01 19:27:26.291 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'2022-04-01 19:27:26.374 +03:00 [] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.DTOs.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 19:27:27.195 +03:00 [] Registration attemt for HotelListing.Models.DTOs.CreateHotelDTO 2022-04-01 19:27:28.750 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 19:27:34.168 +03:00 [] Executed DbCommand (114ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Hotels] ([Address], [CountryId], [Name], [Rating])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();2022-04-01 19:27:34.269 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Data.Hotel'.2022-04-01 19:27:34.356 +03:00 [] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 7971.5793ms2022-04-01 19:27:34.357 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'2022-04-01 19:27:34.367 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 126 - 200 148 application/json;+charset=utf-8 8165.1594ms2022-04-01 19:27:47.709 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/hotel - -2022-04-01 19:27:47.714 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'2022-04-01 19:27:47.731 +03:00 [] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 19:27:47.839 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 19:27:48.448 +03:00 [] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]2022-04-01 19:27:48.515 +03:00 [] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.DTOs.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.2022-04-01 19:27:48.544 +03:00 [] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 812.9394ms2022-04-01 19:27:48.544 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'2022-04-01 19:27:48.545 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/hotel - - - 200 447 application/json;+charset=utf-8 835.9304ms2022-04-01 19:28:22.103 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country - -2022-04-01 19:28:22.107 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'2022-04-01 19:28:22.126 +03:00 [] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-01 19:28:22.142 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 19:28:22.159 +03:00 [] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]2022-04-01 19:28:22.174 +03:00 [] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.DTOs.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.2022-04-01 19:28:22.178 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 52.2404ms2022-04-01 19:28:22.178 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'2022-04-01 19:28:22.179 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country - - - 200 225 application/json;+charset=utf-8 75.5149ms2022-04-01 19:28:41.462 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country/4 - -2022-04-01 19:28:41.467 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 19:28:41.482 +03:00 [] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-01 19:28:41.505 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 19:28:42.099 +03:00 [] Executed DbCommand (8ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[CountryId]
ORDER BY [t].[Id], [h].[Id]2022-04-01 19:28:42.121 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Models.DTOs.CountryDTO'.2022-04-01 19:28:42.122 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 640.0529ms2022-04-01 19:28:42.122 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 19:28:42.123 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country/4 - - - 200 185 application/json;+charset=utf-8 660.8612ms2022-04-01 20:07:49.750 +03:00 [] Application Is Starting2022-04-01 20:07:53.009 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-01 20:07:53.911 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-01 20:07:53.918 +03:00 [] Hosting environment: Development2022-04-01 20:07:53.919 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-01 20:07:54.000 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 20:07:54.379 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 385.1295ms2022-04-01 20:07:55.293 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-01 20:07:55.783 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 490.5460ms2022-04-01 20:14:06.220 +03:00 [] Application Is Starting2022-04-01 20:14:08.574 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-01 20:14:09.198 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-01 20:14:09.215 +03:00 [] Hosting environment: Development2022-04-01 20:14:09.215 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-01 20:14:09.296 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 20:14:09.755 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 461.5674ms2022-04-01 20:14:10.683 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-01 20:14:11.088 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 404.2987ms2022-04-01 20:15:11.284 +03:00 [] Application Is Starting2022-04-01 20:15:13.531 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-01 20:15:14.008 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-01 20:15:14.009 +03:00 [] Hosting environment: Development2022-04-01 20:15:14.009 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-01 20:15:14.060 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 20:15:14.275 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 203.1424ms2022-04-01 20:15:15.022 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-01 20:15:15.221 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 199.6479ms2022-04-01 20:15:53.131 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/country application/json-patch+json 382022-04-01 20:15:53.158 +03:00 [] CORS policy execution successful.2022-04-01 20:15:53.260 +03:00 [] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)2022-04-01 20:15:53.479 +03:00 [] AuthenticationScheme: Bearer was challenged.2022-04-01 20:15:53.484 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/country application/json-patch+json 38 - 401 - - 352.8484ms2022-04-01 20:16:30.206 +03:00 [] Application Is Starting2022-04-01 20:16:32.487 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-01 20:16:32.861 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-01 20:16:32.861 +03:00 [] Hosting environment: Development2022-04-01 20:16:32.861 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-01 20:16:32.905 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 20:16:33.139 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 219.1688ms2022-04-01 20:16:33.666 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-01 20:16:33.842 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 175.4382ms2022-04-01 20:16:58.238 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/country application/json-patch+json 382022-04-01 20:16:58.256 +03:00 [] CORS policy execution successful.2022-04-01 20:16:58.329 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.CreateCountry (HotelListing)'2022-04-01 20:16:58.408 +03:00 [] Route matched with {action = "CreateCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateCountry(HotelListing.Models.DTOs.CreateCountryDTO) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-01 20:16:59.078 +03:00 [] Registration attemt for HotelListing.Models.DTOs.CreateCountryDTO2022-04-01 20:17:00.311 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 20:17:05.732 +03:00 [] Executed DbCommand (94ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Countries] ([Name], [ShortName])
VALUES (@p0, @p1);
SELECT [Id]
FROM [Countries]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();2022-04-01 20:17:05.871 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Data.Country'.2022-04-01 20:17:05.929 +03:00 [] Executed action HotelListing.Controllers.CountryController.CreateCountry (HotelListing) in 7514.803ms2022-04-01 20:17:05.930 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.CreateCountry (HotelListing)'2022-04-01 20:17:05.939 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/country application/json-patch+json 38 - 200 59 application/json;+charset=utf-8 7702.1426ms2022-04-01 20:17:28.017 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country/5 - -2022-04-01 20:17:28.035 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:17:28.049 +03:00 [] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-01 20:17:28.109 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 20:17:29.319 +03:00 [] Executed DbCommand (12ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[CountryId]
ORDER BY [t].[Id], [h].[Id]2022-04-01 20:17:29.369 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Models.DTOs.CountryDTO'.2022-04-01 20:17:29.377 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 1327.7633ms2022-04-01 20:17:29.377 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:17:29.380 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country/5 - - - 200 45 application/json;+charset=utf-8 1362.9598ms2022-04-01 20:17:40.999 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country/3 - -2022-04-01 20:17:40.999 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:17:41.000 +03:00 [] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-01 20:17:41.016 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 20:17:41.048 +03:00 [] Executed DbCommand (22ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[CountryId]
ORDER BY [t].[Id], [h].[Id]2022-04-01 20:17:41.058 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Models.DTOs.CountryDTO'.2022-04-01 20:17:41.060 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 59.6816ms2022-04-01 20:17:41.063 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:17:41.063 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country/3 - - - 200 48 application/json;+charset=utf-8 64.7699ms2022-04-01 20:18:18.554 +03:00 [] Request starting HTTP/2 PUT https://localhost:44389/api/country/3 application/json-patch+json 422022-04-01 20:18:18.554 +03:00 [] CORS policy execution successful.2022-04-01 20:18:18.556 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'2022-04-01 20:18:18.580 +03:00 [] Route matched with {action = "UpdateCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCountry(Int32, HotelListing.Models.DTOs.UpdateCountyDTO) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-01 20:18:18.587 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 20:18:18.611 +03:00 [] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__id_02022-04-01 20:18:18.648 +03:00 [] Executed DbCommand (11ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Countries] SET [Name] = @p0, [ShortName] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;2022-04-01 20:18:18.661 +03:00 [] Executing HttpStatusCodeResult, setting HTTP status code 2042022-04-01 20:18:18.661 +03:00 [] Executed action HotelListing.Controllers.CountryController.UpdateCountry (HotelListing) in 81.6572ms2022-04-01 20:18:18.661 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'2022-04-01 20:18:18.662 +03:00 [] Request finished HTTP/2 PUT https://localhost:44389/api/country/3 application/json-patch+json 42 - 204 - - 108.5098ms2022-04-01 20:18:24.332 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country/3 - -2022-04-01 20:18:24.337 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:18:24.337 +03:00 [] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-01 20:18:24.338 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 20:18:24.349 +03:00 [] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[CountryId]
ORDER BY [t].[Id], [h].[Id]2022-04-01 20:18:24.349 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Models.DTOs.CountryDTO'.2022-04-01 20:18:24.350 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 12.2522ms2022-04-01 20:18:24.350 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:18:24.350 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country/3 - - - 200 49 application/json;+charset=utf-8 18.2289ms2022-04-01 20:18:32.412 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 20:18:32.414 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 2.6559ms2022-04-01 20:18:33.302 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-01 20:18:33.363 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/favicon-32x32.png - -2022-04-01 20:18:33.369 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 66.8796ms2022-04-01 20:18:33.449 +03:00 [] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'2022-04-01 20:18:33.476 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/favicon-32x32.png - - - 200 628 image/png 113.1307ms2022-04-01 20:18:46.747 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country/5 - -2022-04-01 20:18:46.748 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:18:46.749 +03:00 [] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-01 20:18:46.749 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 20:18:46.801 +03:00 [] Executed DbCommand (50ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[CountryId]
ORDER BY [t].[Id], [h].[Id]2022-04-01 20:18:46.806 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Models.DTOs.CountryDTO'.2022-04-01 20:18:46.808 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 58.8614ms2022-04-01 20:18:46.808 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:18:46.809 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country/5 - - - 200 45 application/json;+charset=utf-8 62.0733ms2022-04-01 20:20:38.479 +03:00 [] Request starting HTTP/2 PUT https://localhost:44389/api/country/5 application/json-patch+json 1512022-04-01 20:20:38.484 +03:00 [] CORS policy execution successful.2022-04-01 20:20:38.489 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'2022-04-01 20:20:38.493 +03:00 [] Route matched with {action = "UpdateCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCountry(Int32, HotelListing.Models.DTOs.UpdateCountyDTO) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-01 20:20:39.360 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 20:20:41.617 +03:00 [] Executed DbCommand (2,240ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__id_02022-04-01 20:20:42.391 +03:00 [] Executed DbCommand (757ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Countries] SET [Name] = @p0, [ShortName] = @p1
WHERE [Id] = @p2;
SELECT @@ROWCOUNT;2022-04-01 20:20:42.411 +03:00 [] Executing HttpStatusCodeResult, setting HTTP status code 2042022-04-01 20:20:42.411 +03:00 [] Executed action HotelListing.Controllers.CountryController.UpdateCountry (HotelListing) in 3917.9844ms2022-04-01 20:20:42.411 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.UpdateCountry (HotelListing)'2022-04-01 20:20:42.412 +03:00 [] Request finished HTTP/2 PUT https://localhost:44389/api/country/5 application/json-patch+json 151 - 204 - - 3936.9196ms2022-04-01 20:20:49.248 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country/5 - -2022-04-01 20:20:49.248 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:20:49.249 +03:00 [] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-01 20:20:49.249 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 20:20:49.682 +03:00 [] Executed DbCommand (431ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[CountryId]
ORDER BY [t].[Id], [h].[Id]2022-04-01 20:20:49.683 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Models.DTOs.CountryDTO'.2022-04-01 20:20:49.688 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 438.8718ms2022-04-01 20:20:49.688 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:20:49.688 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country/5 - - - 200 45 application/json;+charset=utf-8 440.5388ms2022-04-01 20:21:07.616 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/hotel - -2022-04-01 20:21:07.618 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'2022-04-01 20:21:07.625 +03:00 [] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 20:21:07.629 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 20:21:07.669 +03:00 [] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]2022-04-01 20:21:07.695 +03:00 [] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.DTOs.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.2022-04-01 20:21:07.708 +03:00 [] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 82.5534ms2022-04-01 20:21:07.708 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'2022-04-01 20:21:07.713 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/hotel - - - 200 447 application/json;+charset=utf-8 96.7291ms2022-04-01 20:21:34.242 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country - -2022-04-01 20:21:34.243 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'2022-04-01 20:21:34.252 +03:00 [] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-01 20:21:34.255 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 20:21:34.272 +03:00 [] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]2022-04-01 20:21:34.332 +03:00 [] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.DTOs.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.2022-04-01 20:21:34.336 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 83.2177ms2022-04-01 20:21:34.336 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'2022-04-01 20:21:34.337 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country - - - 200 224 application/json;+charset=utf-8 94.7618ms2022-04-01 20:21:42.905 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country/5 - -2022-04-01 20:21:42.906 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:21:42.906 +03:00 [] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-01 20:21:42.906 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 20:21:42.921 +03:00 [] Executed DbCommand (14ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[CountryId]
ORDER BY [t].[Id], [h].[Id]2022-04-01 20:21:42.924 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Models.DTOs.CountryDTO'.2022-04-01 20:21:42.925 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 18.9906ms2022-04-01 20:21:42.925 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:21:42.926 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country/5 - - - 200 45 application/json;+charset=utf-8 20.7545ms2022-04-01 20:24:21.969 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 1012022-04-01 20:24:21.976 +03:00 [] CORS policy execution successful.2022-04-01 20:24:21.999 +03:00 [] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)2022-04-01 20:24:22.271 +03:00 [] AuthenticationScheme: Bearer was challenged.2022-04-01 20:24:22.288 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 101 - 401 - - 318.6732ms2022-04-01 20:24:36.588 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 20:24:36.602 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 14.7194ms2022-04-01 20:24:37.638 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-01 20:24:37.711 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 72.6562ms2022-04-01 20:25:08.257 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 1012022-04-01 20:25:08.257 +03:00 [] CORS policy execution successful.2022-04-01 20:25:08.332 +03:00 [] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)2022-04-01 20:25:08.360 +03:00 [] AuthenticationScheme: Bearer was challenged.2022-04-01 20:25:08.377 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 101 - 401 - - 119.5996ms2022-04-01 20:25:57.426 +03:00 [] Application Is Starting2022-04-01 20:26:02.651 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-01 20:26:03.670 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-01 20:26:03.670 +03:00 [] Hosting environment: Development2022-04-01 20:26:03.670 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-01 20:26:03.767 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 20:26:04.195 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 434.9860ms2022-04-01 20:26:05.501 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-01 20:26:05.869 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 368.2299ms2022-04-01 20:26:20.671 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country/5 - -2022-04-01 20:26:20.881 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:26:21.023 +03:00 [] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-01 20:26:24.466 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 20:26:28.140 +03:00 [] Executed DbCommand (434ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[CountryId]
ORDER BY [t].[Id], [h].[Id]2022-04-01 20:26:28.259 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Models.DTOs.CountryDTO'.2022-04-01 20:26:28.655 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 7616.8179ms2022-04-01 20:26:28.657 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:26:28.695 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country/5 - - - 200 45 application/json;+charset=utf-8 8024.0591ms2022-04-01 20:26:38.083 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 1012022-04-01 20:26:38.091 +03:00 [] CORS policy execution successful.2022-04-01 20:26:38.113 +03:00 [] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)2022-04-01 20:26:38.332 +03:00 [] AuthenticationScheme: Bearer was challenged.2022-04-01 20:26:38.337 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 101 - 401 - - 253.8680ms2022-04-01 20:27:13.374 +03:00 [] Application Is Starting2022-04-01 20:27:17.425 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-01 20:27:18.448 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-01 20:27:18.449 +03:00 [] Hosting environment: Development2022-04-01 20:27:18.449 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-01 20:27:18.646 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 20:27:19.078 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 438.2463ms2022-04-01 20:27:19.750 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-01 20:27:20.114 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 363.6239ms2022-04-01 20:27:37.591 +03:00 [] Request starting HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 1002022-04-01 20:27:37.606 +03:00 [] CORS policy execution successful.2022-04-01 20:27:37.761 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'2022-04-01 20:27:37.959 +03:00 [] Route matched with {action = "CreateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateHotel(HotelListing.Models.DTOs.CreateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 20:27:39.218 +03:00 [] Registration attemt for HotelListing.Models.DTOs.CreateHotelDTO 2022-04-01 20:27:41.826 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 20:27:45.241 +03:00 [] Executed DbCommand (720ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Hotels] ([Address], [CountryId], [Name], [Rating])
VALUES (@p0, @p1, @p2, @p3);
SELECT [Id]
FROM [Hotels]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();2022-04-01 20:27:45.427 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Data.Hotel'.2022-04-01 20:27:45.547 +03:00 [] Executed action HotelListing.Controllers.HotelController.CreateHotel (HotelListing) in 7579.5084ms2022-04-01 20:27:45.548 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.CreateHotel (HotelListing)'2022-04-01 20:27:45.560 +03:00 [] Request finished HTTP/2 POST https://localhost:44389/api/hotel application/json-patch+json 100 - 200 122 application/json;+charset=utf-8 7969.6490ms2022-04-01 20:28:22.339 +03:00 [] Request starting HTTP/2 PUT https://localhost:44389/api/hotel/5 application/json-patch+json 1012022-04-01 20:28:22.443 +03:00 [] CORS policy execution successful.2022-04-01 20:28:22.471 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.UpdateHotel (HotelListing)'2022-04-01 20:28:22.504 +03:00 [] Route matched with {action = "UpdateHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateHotel(Int32, HotelListing.Models.DTOs.UpdateHotelDTO) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 20:28:34.068 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 20:28:35.512 +03:00 [] Executed DbCommand (305ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]
WHERE [h].[Id] = @__id_02022-04-01 20:28:36.038 +03:00 [] Executed DbCommand (357ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Double)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Hotels] SET [Address] = @p0, [CountryId] = @p1, [Name] = @p2, [Rating] = @p3
WHERE [Id] = @p4;
SELECT @@ROWCOUNT;2022-04-01 20:28:36.079 +03:00 [] Executing HttpStatusCodeResult, setting HTTP status code 2042022-04-01 20:28:36.079 +03:00 [] Executed action HotelListing.Controllers.HotelController.UpdateHotel (HotelListing) in 13575.6536ms2022-04-01 20:28:36.080 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.UpdateHotel (HotelListing)'2022-04-01 20:28:36.081 +03:00 [] Request finished HTTP/2 PUT https://localhost:44389/api/hotel/5 application/json-patch+json 101 - 204 - - 13741.7144ms2022-04-01 20:28:44.565 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/hotel/5 - -2022-04-01 20:28:44.567 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'2022-04-01 20:28:44.572 +03:00 [] Route matched with {action = "GetHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 20:28:44.595 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 20:28:44.792 +03:00 [] Executed DbCommand (72ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating], [c].[Id], [c].[Name], [c].[ShortName]
FROM [Hotels] AS [h]
INNER JOIN [Countries] AS [c] ON [h].[CountryId] = [c].[Id]
WHERE [h].[Id] = @__id_02022-04-01 20:28:44.805 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Models.DTOs.HotelDTO'.2022-04-01 20:28:44.816 +03:00 [] Executed action HotelListing.Controllers.HotelController.GetHotel (HotelListing) in 243.6555ms2022-04-01 20:28:44.816 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'2022-04-01 20:28:44.816 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/hotel/5 - - - 200 164 application/json;+charset=utf-8 251.3593ms2022-04-01 20:28:50.974 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/hotel/5 - -2022-04-01 20:28:50.982 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'2022-04-01 20:28:50.983 +03:00 [] Route matched with {action = "GetHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 20:28:50.984 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 20:28:51.117 +03:00 [] Executed DbCommand (113ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating], [c].[Id], [c].[Name], [c].[ShortName]
FROM [Hotels] AS [h]
INNER JOIN [Countries] AS [c] ON [h].[CountryId] = [c].[Id]
WHERE [h].[Id] = @__id_02022-04-01 20:28:51.122 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Models.DTOs.HotelDTO'.2022-04-01 20:28:51.123 +03:00 [] Executed action HotelListing.Controllers.HotelController.GetHotel (HotelListing) in 139.3502ms2022-04-01 20:28:51.123 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'2022-04-01 20:28:51.127 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/hotel/5 - - - 200 164 application/json;+charset=utf-8 149.8397ms2022-04-01 20:31:22.718 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country/5 - -2022-04-01 20:31:22.719 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:31:22.731 +03:00 [] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-01 20:31:22.756 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 20:31:22.961 +03:00 [] Executed DbCommand (15ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[CountryId]
ORDER BY [t].[Id], [h].[Id]2022-04-01 20:31:22.981 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Models.DTOs.CountryDTO'.2022-04-01 20:31:22.991 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 259.2233ms2022-04-01 20:31:22.991 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:31:22.991 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country/5 - - - 200 45 application/json;+charset=utf-8 272.8818ms2022-04-01 20:31:30.241 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country - -2022-04-01 20:31:30.241 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'2022-04-01 20:31:30.251 +03:00 [] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-01 20:31:30.259 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 20:31:30.301 +03:00 [] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]2022-04-01 20:31:30.330 +03:00 [] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.DTOs.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.2022-04-01 20:31:30.341 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 89.1801ms2022-04-01 20:31:30.341 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'2022-04-01 20:31:30.341 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country - - - 200 224 application/json;+charset=utf-8 107.6323ms2022-04-01 20:33:17.495 +03:00 [] Application Is Starting2022-04-01 20:33:20.307 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-01 20:33:20.897 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-01 20:33:20.897 +03:00 [] Hosting environment: Development2022-04-01 20:33:20.897 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-01 20:33:20.968 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 20:33:21.517 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 553.1773ms2022-04-01 20:33:22.193 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-01 20:33:22.563 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 369.5998ms2022-04-01 20:33:30.203 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country/4 - -2022-04-01 20:33:30.347 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:33:30.493 +03:00 [] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-01 20:33:32.921 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 20:33:33.490 +03:00 [] Somthing went wrong in the GetCountrySystem.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Query.InvalidIncludePathError': Unable to find navigation 'Hotel' specified in string based include path 'Hotel'. This exception can be suppressed or logged by passing event ID 'CoreEventId.InvalidIncludePathError' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`2.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam1 arg1, TParam2 arg2)
   at Microsoft.EntityFrameworkCore.Diagnostics.CoreLoggerExtensions.InvalidIncludePathError(IDiagnosticsLogger`1 diagnostics, String navigationChain, String navigationName)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.MethodCallExpression.Accept(ExpressionVisitor visitor)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at HotelListing.Repository.GenericRepository`1.Get(Expression`1 expression, List`1 includes) in C:\Users\annbe\Desktop\Repo\PET\HotelListing\Repository\GenericRepository.cs:line 45
   at HotelListing.Controllers.CountryController.GetCountry(Int32 id) in C:\Users\annbe\Desktop\Repo\PET\HotelListing\Controllers\CountryController.cs:line 56
2022-04-01 20:33:33.730 +03:00 [] Executing ObjectResult, writing value of type 'System.String'.2022-04-01 20:33:33.744 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 3238.3543ms2022-04-01 20:33:33.746 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:33:33.759 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country/4 - - - 500 - text/plain;+charset=utf-8 3555.5787ms2022-04-01 20:33:38.936 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country/5 - -2022-04-01 20:33:38.946 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:33:38.947 +03:00 [] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-01 20:33:39.084 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 20:33:39.298 +03:00 [] Somthing went wrong in the GetCountrySystem.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Query.InvalidIncludePathError': Unable to find navigation 'Hotel' specified in string based include path 'Hotel'. This exception can be suppressed or logged by passing event ID 'CoreEventId.InvalidIncludePathError' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.
   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`2.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam1 arg1, TParam2 arg2)
   at Microsoft.EntityFrameworkCore.Diagnostics.CoreLoggerExtensions.InvalidIncludePathError(IDiagnosticsLogger`1 diagnostics, String navigationChain, String navigationName)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.ProcessInclude(NavigationExpansionExpression source, Expression expression, Boolean thenInclude, Boolean setLoaded)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)
   at System.Linq.Expressions.ExpressionVisitor.Visit(Expression node)
   at Microsoft.EntityFrameworkCore.Query.Internal.NavigationExpandingExpressionVisitor.Expand(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryTranslationPreprocessor.Process(Expression query)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, LambdaExpression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, Expression`1 predicate, CancellationToken cancellationToken)
   at HotelListing.Repository.GenericRepository`1.Get(Expression`1 expression, List`1 includes) in C:\Users\annbe\Desktop\Repo\PET\HotelListing\Repository\GenericRepository.cs:line 45
   at HotelListing.Controllers.CountryController.GetCountry(Int32 id) in C:\Users\annbe\Desktop\Repo\PET\HotelListing\Controllers\CountryController.cs:line 56
2022-04-01 20:33:39.299 +03:00 [] Executing ObjectResult, writing value of type 'System.String'.2022-04-01 20:33:39.299 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 352.2544ms2022-04-01 20:33:39.300 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:33:39.300 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country/5 - - - 500 - text/plain;+charset=utf-8 363.8984ms2022-04-01 20:34:07.243 +03:00 [] Application Is Starting2022-04-01 20:34:11.389 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-01 20:34:12.180 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-01 20:34:12.180 +03:00 [] Hosting environment: Development2022-04-01 20:34:12.180 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-01 20:34:12.240 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 20:34:12.521 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 258.6098ms2022-04-01 20:34:13.448 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-01 20:34:13.745 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 297.6824ms2022-04-01 20:34:19.588 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country/5 - -2022-04-01 20:34:19.740 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:34:19.847 +03:00 [] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-01 20:34:22.124 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 20:34:23.874 +03:00 [] Executed DbCommand (133ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[CountryId]
ORDER BY [t].[Id], [h].[Id]2022-04-01 20:34:24.067 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Models.DTOs.CountryDTO'.2022-04-01 20:34:24.343 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 4485.7632ms2022-04-01 20:34:24.345 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:34:24.357 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country/5 - - - 200 45 application/json;+charset=utf-8 4768.8764ms2022-04-01 20:38:29.455 +03:00 [] Application Is Starting2022-04-01 20:38:32.054 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-01 20:38:32.740 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-01 20:38:32.740 +03:00 [] Hosting environment: Development2022-04-01 20:38:32.741 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-01 20:38:32.864 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-01 20:38:33.208 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 348.2614ms2022-04-01 20:38:34.273 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-01 20:38:34.787 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 514.7066ms2022-04-01 20:38:39.284 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country/5 - -2022-04-01 20:38:39.409 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:38:39.662 +03:00 [] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-01 20:38:41.239 +03:00 [] The relationship was separated into two relationships because the [ForeignKey] attribute specified on the navigation 'Country.Hotels' doesn't match the [ForeignKey] attribute specified on the property 'Hotel.CountryId'.2022-04-01 20:38:42.079 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 20:38:44.643 +03:00 [] Executed DbCommand (463ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Hotels], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[Hotels]
ORDER BY [t].[Id], [h].[Id]2022-04-01 20:38:44.738 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Models.DTOs.CountryDTO'.2022-04-01 20:38:45.072 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 5398.2688ms2022-04-01 20:38:45.073 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:38:45.085 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country/5 - - - 200 45 application/json;+charset=utf-8 5801.3133ms2022-04-01 20:38:53.491 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/hotel/5 - -2022-04-01 20:38:53.493 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'2022-04-01 20:38:53.510 +03:00 [] Route matched with {action = "GetHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 20:38:53.618 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 20:38:53.745 +03:00 [] Executed DbCommand (43ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Hotels], [h].[Name], [h].[Rating], [c].[Id], [c].[Name], [c].[ShortName]
FROM [Hotels] AS [h]
INNER JOIN [Countries] AS [c] ON [h].[CountryId] = [c].[Id]
WHERE [h].[Id] = @__id_02022-04-01 20:38:53.755 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Models.DTOs.HotelDTO'.2022-04-01 20:38:53.763 +03:00 [] Executed action HotelListing.Controllers.HotelController.GetHotel (HotelListing) in 252.8954ms2022-04-01 20:38:53.763 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'2022-04-01 20:38:53.764 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/hotel/5 - - - 200 164 application/json;+charset=utf-8 273.6374ms2022-04-01 20:42:25.098 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/hotel/5 - -2022-04-01 20:42:25.099 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'2022-04-01 20:42:25.100 +03:00 [] Route matched with {action = "GetHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-01 20:42:35.827 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 20:44:04.165 +03:00 [] Executed DbCommand (68ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Hotels], [h].[Name], [h].[Rating], [c].[Id], [c].[Name], [c].[ShortName]
FROM [Hotels] AS [h]
INNER JOIN [Countries] AS [c] ON [h].[CountryId] = [c].[Id]
WHERE [h].[Id] = @__id_02022-04-01 20:44:40.803 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Models.DTOs.HotelDTO'.2022-04-01 20:44:40.882 +03:00 [] Executed action HotelListing.Controllers.HotelController.GetHotel (HotelListing) in 135782.6629ms2022-04-01 20:44:40.883 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'2022-04-01 20:44:40.892 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/hotel/5 - - - 200 164 application/json;+charset=utf-8 135787.2341ms2022-04-01 20:44:48.539 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country/5 - -2022-04-01 20:44:48.540 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:44:48.540 +03:00 [] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-01 20:44:53.159 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-01 20:45:44.306 +03:00 [] Executed DbCommand (39ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Hotels], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[Hotels]
ORDER BY [t].[Id], [h].[Id]2022-04-01 20:46:01.132 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Models.DTOs.CountryDTO'.2022-04-01 20:46:01.190 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 72649.6885ms2022-04-01 20:46:01.190 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-01 20:46:01.190 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country/5 - - - 200 45 application/json;+charset=utf-8 72650.8256ms