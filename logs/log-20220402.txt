2022-04-02 15:57:14.568 +03:00 [] Application Is Starting2022-04-02 15:57:19.021 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-02 15:57:19.934 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-02 15:57:19.940 +03:00 [] Hosting environment: Development2022-04-02 15:57:19.940 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-02 15:57:20.005 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-02 15:57:20.200 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 196.7478ms2022-04-02 15:57:20.899 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-02 15:57:21.151 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 252.4202ms2022-04-02 15:57:24.826 +03:00 [] Request starting HTTP/1.1 POST https://localhost:44389/api/account/login application/json 602022-04-02 15:57:26.200 +03:00 [] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-02 15:57:26.277 +03:00 [] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.DTOs.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).2022-04-02 15:57:27.420 +03:00 [] Login attemt for aw@example.com 2022-04-02 15:57:28.142 +03:00 [] The relationship was separated into two relationships because the [ForeignKey] attribute specified on the navigation 'Country.Hotels' doesn't match the [ForeignKey] attribute specified on the property 'Hotel.CountryId'.2022-04-02 15:57:29.017 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-02 15:57:38.286 +03:00 [] Executed DbCommand (124ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_02022-04-02 15:57:38.742 +03:00 [] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_02022-04-02 15:57:39.155 +03:00 [] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.2022-04-02 15:57:39.270 +03:00 [] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 12978.482ms2022-04-02 15:57:39.272 +03:00 [] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-02 15:57:39.287 +03:00 [] Request finished HTTP/1.1 POST https://localhost:44389/api/account/login application/json 60 - 202 255 application/json;+charset=utf-8 14460.9496ms2022-04-02 15:58:57.152 +03:00 [] Application Is Starting2022-04-02 15:58:59.242 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-02 15:58:59.733 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-02 15:58:59.733 +03:00 [] Hosting environment: Development2022-04-02 15:58:59.733 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-02 15:58:59.794 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-02 15:59:00.035 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 244.2964ms2022-04-02 15:59:00.588 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-02 15:59:00.757 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 169.2849ms2022-04-02 15:59:16.539 +03:00 [] Request starting HTTP/1.1 POST https://localhost:44389/api/account/login application/json 602022-04-02 15:59:16.947 +03:00 [] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-02 15:59:17.072 +03:00 [] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.DTOs.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).2022-04-02 15:59:18.390 +03:00 [] Login attemt for aw@example.com 2022-04-02 15:59:19.573 +03:00 [] The relationship was separated into two relationships because the [ForeignKey] attribute specified on the navigation 'Country.Hotels' doesn't match the [ForeignKey] attribute specified on the property 'Hotel.CountryId'.2022-04-02 15:59:20.937 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-02 15:59:22.678 +03:00 [] Executed DbCommand (167ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_02022-04-02 15:59:23.291 +03:00 [] Executed DbCommand (112ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_02022-04-02 15:59:23.538 +03:00 [] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.2022-04-02 15:59:23.659 +03:00 [] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 6573.8001ms2022-04-02 15:59:23.660 +03:00 [] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-02 15:59:23.675 +03:00 [] Request finished HTTP/1.1 POST https://localhost:44389/api/account/login application/json 60 - 202 255 application/json;+charset=utf-8 7136.4075ms2022-04-02 16:00:05.397 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/cu/1 application/json 1102022-04-02 16:00:05.541 +03:00 [] Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-04-02 16:00:05.634 +03:00 [] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.2022-04-02 16:00:05.640 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/cu/1 application/json 110 - 404 - - 249.7297ms2022-04-02 16:00:33.654 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/hotel - -2022-04-02 16:00:33.669 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'2022-04-02 16:00:33.679 +03:00 [] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-02 16:00:33.743 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-02 16:00:33.817 +03:00 [] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Hotels], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]2022-04-02 16:00:33.855 +03:00 [] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.DTOs.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.2022-04-02 16:00:33.889 +03:00 [] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 209.2248ms2022-04-02 16:00:33.889 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'2022-04-02 16:00:33.892 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/hotel - - - 200 571 application/json;+charset=utf-8 238.2041ms2022-04-02 16:00:54.686 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/cu/1 application/json 1092022-04-02 16:00:54.696 +03:00 [] Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-04-02 16:00:54.749 +03:00 [] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.2022-04-02 16:00:54.766 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/cu/1 application/json 109 - 404 - - 79.8298ms2022-04-02 16:01:21.349 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/cu/1 application/json 1092022-04-02 16:01:21.360 +03:00 [] Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-04-02 16:01:21.360 +03:00 [] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.2022-04-02 16:01:21.378 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/cu/1 application/json 109 - 404 - - 28.8128ms2022-04-02 16:01:22.694 +03:00 [] Request starting HTTP/1.1 PUT https://localhost:44389/api/cu/1 application/json 1092022-04-02 16:01:22.695 +03:00 [] Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenInvalidAudienceException: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateAudience(IEnumerable`1 audiences, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateAudience(IEnumerable`1 audiences, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-04-02 16:01:22.696 +03:00 [] Bearer was not authenticated. Failure message: IDX10208: Unable to validate audience. validationParameters.ValidAudience is null or whitespace and validationParameters.ValidAudiences is null.2022-04-02 16:01:22.698 +03:00 [] Request finished HTTP/1.1 PUT https://localhost:44389/api/cu/1 application/json 109 - 404 - - 3.6773ms2022-04-02 16:01:52.276 +03:00 [] Request starting HTTP/2 PUT https://localhost:44389/api/hotel/1 application/json-patch+json 792022-04-02 16:01:52.284 +03:00 [] CORS policy execution successful.2022-04-02 16:01:52.293 +03:00 [] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.2022-04-02 16:01:52.302 +03:00 [] AuthenticationScheme: Bearer was challenged.2022-04-02 16:01:52.308 +03:00 [] Request finished HTTP/2 PUT https://localhost:44389/api/hotel/1 application/json-patch+json 79 - 401 - - 31.9936ms2022-04-02 16:04:15.701 +03:00 [] Request starting HTTP/2 PUT https://localhost:44389/api/hotel/1 application/json-patch+json 792022-04-02 16:04:15.702 +03:00 [] CORS policy execution successful.2022-04-02 16:04:15.705 +03:00 [] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.2022-04-02 16:04:15.706 +03:00 [] AuthenticationScheme: Bearer was challenged.2022-04-02 16:04:15.710 +03:00 [] Request finished HTTP/2 PUT https://localhost:44389/api/hotel/1 application/json-patch+json 79 - 401 - - 8.3130ms2022-04-02 16:10:12.953 +03:00 [] Application Is Starting2022-04-02 16:10:15.878 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-02 16:10:16.445 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-02 16:10:16.446 +03:00 [] Hosting environment: Development2022-04-02 16:10:16.446 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-02 16:10:16.546 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-02 16:10:16.771 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 225.1957ms2022-04-02 16:10:17.391 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-02 16:10:17.707 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 315.5349ms2022-04-02 16:10:27.691 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country - -2022-04-02 16:10:27.952 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'2022-04-02 16:10:28.023 +03:00 [] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-02 16:10:29.326 +03:00 [] The relationship was separated into two relationships because the [ForeignKey] attribute specified on the navigation 'Country.Hotels' doesn't match the [ForeignKey] attribute specified on the property 'Hotel.CountryId'.2022-04-02 16:10:30.142 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-02 16:10:31.202 +03:00 [] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]2022-04-02 16:10:31.317 +03:00 [] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.DTOs.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.2022-04-02 16:10:31.603 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 3568.575ms2022-04-02 16:10:31.605 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'2022-04-02 16:10:31.616 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country - - - 200 224 application/json;+charset=utf-8 3925.7740ms2022-04-02 16:10:45.803 +03:00 [] Request starting HTTP/2 DELETE https://localhost:44389/api/country/5 - -2022-04-02 16:10:45.813 +03:00 [] CORS policy execution successful.2022-04-02 16:10:45.817 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.DeleteCountry (HotelListing)'2022-04-02 16:10:45.832 +03:00 [] Route matched with {action = "DeleteCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-02 16:10:45.899 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-02 16:10:46.090 +03:00 [] Executed DbCommand (47ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__id_02022-04-02 16:10:46.133 +03:00 [] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__p_02022-04-02 16:10:46.368 +03:00 [] Executed DbCommand (22ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Countries]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;2022-04-02 16:10:46.409 +03:00 [] Executing HttpStatusCodeResult, setting HTTP status code 2042022-04-02 16:10:46.409 +03:00 [] Executed action HotelListing.Controllers.CountryController.DeleteCountry (HotelListing) in 576.7462ms2022-04-02 16:10:46.409 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.DeleteCountry (HotelListing)'2022-04-02 16:10:46.413 +03:00 [] Request finished HTTP/2 DELETE https://localhost:44389/api/country/5 - - - 204 - - 609.3613ms2022-04-02 16:10:58.209 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country/5 - -2022-04-02 16:10:58.215 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-02 16:10:58.219 +03:00 [] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-02 16:11:02.042 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-02 16:11:02.303 +03:00 [] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Hotels], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[Hotels]
ORDER BY [t].[Id], [h].[Id]2022-04-02 16:11:02.307 +03:00 [] Executing OkObjectResult, writing value of type 'null'.2022-04-02 16:11:02.307 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 4088.0111ms2022-04-02 16:11:02.308 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-02 16:11:02.308 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country/5 - - - 204 0 - 4099.3699ms2022-04-02 16:11:18.701 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country - -2022-04-02 16:11:18.702 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'2022-04-02 16:11:18.702 +03:00 [] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-02 16:11:18.703 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-02 16:11:18.713 +03:00 [] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]2022-04-02 16:11:18.714 +03:00 [] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.DTOs.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.2022-04-02 16:11:18.715 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 13.066ms2022-04-02 16:11:18.715 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'2022-04-02 16:11:18.716 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country - - - 200 178 application/json;+charset=utf-8 14.2735ms2022-04-02 16:11:22.976 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country/5 - -2022-04-02 16:11:22.977 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-02 16:11:22.977 +03:00 [] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-02 16:11:40.001 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-02 16:11:40.018 +03:00 [] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Hotels], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[Hotels]
ORDER BY [t].[Id], [h].[Id]2022-04-02 16:11:40.018 +03:00 [] Executing OkObjectResult, writing value of type 'null'.2022-04-02 16:11:40.018 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 17041.3434ms2022-04-02 16:11:40.018 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-02 16:11:40.019 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country/5 - - - 204 0 - 17042.7452ms2022-04-02 16:11:40.033 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country/5 - -2022-04-02 16:11:40.033 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-02 16:11:40.033 +03:00 [] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-02 16:15:15.787 +03:00 [] Application Is Starting2022-04-02 16:15:18.408 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-02 16:15:18.792 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-02 16:15:18.793 +03:00 [] Hosting environment: Development2022-04-02 16:15:18.793 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-02 16:15:18.837 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-02 16:15:19.062 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 209.1002ms2022-04-02 16:15:19.588 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-02 16:15:19.876 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 287.6655ms2022-04-02 16:15:26.938 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country/6 - -2022-04-02 16:15:27.304 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-02 16:15:27.401 +03:00 [] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-02 16:15:35.043 +03:00 [] The relationship was separated into two relationships because the [ForeignKey] attribute specified on the navigation 'Country.Hotels' doesn't match the [ForeignKey] attribute specified on the property 'Hotel.CountryId'.2022-04-02 16:15:36.017 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-02 16:15:49.364 +03:00 [] Executed DbCommand (493ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Hotels], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE [c].[Id] = @__id_0
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[Hotels]
ORDER BY [t].[Id], [h].[Id]2022-04-02 16:15:58.176 +03:00 [] Invalid ID attemt in GetCountry2022-04-02 16:16:05.736 +03:00 [] Executing NotFoundObjectResult, writing value of type 'System.String'.2022-04-02 16:16:05.752 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 38340.6178ms2022-04-02 16:16:05.756 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-02 16:16:05.934 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country/6 - - - 404 - text/plain;+charset=utf-8 38996.3544ms2022-04-02 16:17:19.348 +03:00 [] Application Is Starting2022-04-02 16:17:22.082 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-02 16:17:22.593 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-02 16:17:22.593 +03:00 [] Hosting environment: Development2022-04-02 16:17:22.609 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-02 16:17:22.679 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-02 16:17:22.873 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 198.8588ms2022-04-02 16:17:23.598 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-02 16:17:23.916 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 317.6658ms2022-04-02 16:17:31.096 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/hotel - -2022-04-02 16:17:31.617 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'2022-04-02 16:17:31.735 +03:00 [] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-02 16:17:33.197 +03:00 [] The relationship was separated into two relationships because the [ForeignKey] attribute specified on the navigation 'Country.Hotels' doesn't match the [ForeignKey] attribute specified on the property 'Hotel.CountryId'.2022-04-02 16:17:34.139 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-02 16:17:36.196 +03:00 [] Executed DbCommand (401ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Hotels], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]2022-04-02 16:17:36.284 +03:00 [] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.DTOs.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.2022-04-02 16:17:36.628 +03:00 [] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 4876.8225ms2022-04-02 16:17:36.629 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'2022-04-02 16:17:36.638 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/hotel - - - 200 447 application/json;+charset=utf-8 5542.5698ms2022-04-02 16:17:52.370 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/hotel/5 - -2022-04-02 16:17:52.389 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'2022-04-02 16:17:52.437 +03:00 [] Route matched with {action = "GetHotel", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotel(Int32) on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-02 16:17:52.579 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-02 16:17:53.047 +03:00 [] Executed DbCommand (77ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [h].[Id], [h].[Address], [h].[CountryId], [h].[Hotels], [h].[Name], [h].[Rating], [c].[Id], [c].[Name], [c].[ShortName]
FROM [Hotels] AS [h]
INNER JOIN [Countries] AS [c] ON [h].[CountryId] = [c].[Id]
WHERE [h].[Id] = @__id_02022-04-02 16:17:53.055 +03:00 [] Invalid ID attemt in GetHotel2022-04-02 16:17:53.058 +03:00 [] Executing NotFoundObjectResult, writing value of type 'System.String'.2022-04-02 16:17:53.062 +03:00 [] Executed action HotelListing.Controllers.HotelController.GetHotel (HotelListing) in 625.2364ms2022-04-02 16:17:53.062 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotel (HotelListing)'2022-04-02 16:17:53.065 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/hotel/5 - - - 404 - text/plain;+charset=utf-8 694.0895ms2022-04-02 16:20:44.031 +03:00 [] Request starting HTTP/2 DELETE https://localhost:44389/api/country/4 - -2022-04-02 16:20:44.052 +03:00 [] CORS policy execution successful.2022-04-02 16:20:44.058 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.DeleteCountry (HotelListing)'2022-04-02 16:20:44.063 +03:00 [] Route matched with {action = "DeleteCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-02 16:20:44.098 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-02 16:20:44.160 +03:00 [] Executed DbCommand (50ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__id_02022-04-02 16:20:44.193 +03:00 [] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
WHERE [c].[Id] = @__p_02022-04-02 16:20:44.853 +03:00 [] Executed DbCommand (326ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Countries]
WHERE [Id] = @p0;
SELECT @@ROWCOUNT;2022-04-02 16:20:44.906 +03:00 [] Executing HttpStatusCodeResult, setting HTTP status code 2042022-04-02 16:20:44.906 +03:00 [] Executed action HotelListing.Controllers.CountryController.DeleteCountry (HotelListing) in 843.3089ms2022-04-02 16:20:44.906 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.DeleteCountry (HotelListing)'2022-04-02 16:20:44.909 +03:00 [] Request finished HTTP/2 DELETE https://localhost:44389/api/country/4 - - - 204 - - 878.0412ms2022-04-02 16:20:50.751 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country - -2022-04-02 16:20:50.752 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'2022-04-02 16:20:50.764 +03:00 [] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries() on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-02 16:20:50.767 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-02 16:20:50.778 +03:00 [] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]2022-04-02 16:20:50.785 +03:00 [] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.DTOs.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.2022-04-02 16:20:50.791 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 27.1451ms2022-04-02 16:20:50.791 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'2022-04-02 16:20:50.792 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country - - - 200 137 application/json;+charset=utf-8 40.3689ms2022-04-02 16:20:57.621 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/hotel - -2022-04-02 16:20:57.622 +03:00 [] Executing endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'2022-04-02 16:20:57.623 +03:00 [] Route matched with {action = "GetHotels", controller = "Hotel"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetHotels() on controller HotelListing.Controllers.HotelController (HotelListing).2022-04-02 16:20:57.625 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-02 16:20:57.653 +03:00 [] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [h].[Id], [h].[Address], [h].[CountryId], [h].[Hotels], [h].[Name], [h].[Rating]
FROM [Hotels] AS [h]2022-04-02 16:20:57.655 +03:00 [] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.DTOs.HotelDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.2022-04-02 16:20:57.656 +03:00 [] Executed action HotelListing.Controllers.HotelController.GetHotels (HotelListing) in 32.7543ms2022-04-02 16:20:57.656 +03:00 [] Executed endpoint 'HotelListing.Controllers.HotelController.GetHotels (HotelListing)'2022-04-02 16:20:57.663 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/hotel - - - 200 298 application/json;+charset=utf-8 41.6159ms2022-04-02 17:46:15.537 +03:00 [] Application Is Starting2022-04-02 17:46:18.343 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-02 17:46:18.976 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-02 17:46:18.976 +03:00 [] Hosting environment: Development2022-04-02 17:46:18.976 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-02 17:46:19.109 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-02 17:46:19.536 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 434.2737ms2022-04-02 17:46:21.434 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-02 17:46:21.909 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 474.6699ms2022-04-02 17:46:34.275 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country?PageNumber=1&PageSize=2 - -2022-04-02 17:46:34.595 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'2022-04-02 17:46:34.679 +03:00 [] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries(HotelListing.Models.RequestParams) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-02 17:46:35.841 +03:00 [] The relationship was separated into two relationships because the [ForeignKey] attribute specified on the navigation 'Country.Hotels' doesn't match the [ForeignKey] attribute specified on the property 'Hotel.CountryId'.2022-04-02 17:46:36.633 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-02 17:46:43.278 +03:00 [] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Countries] AS [c]2022-04-02 17:46:43.359 +03:00 [] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results.2022-04-02 17:46:43.360 +03:00 [] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results.2022-04-02 17:46:43.447 +03:00 [] Executed DbCommand (40ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY2022-04-02 17:46:43.488 +03:00 [] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.DTOs.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.2022-04-02 17:46:43.711 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 9026.9267ms2022-04-02 17:46:43.712 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'2022-04-02 17:46:43.719 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country?PageNumber=1&PageSize=2 - - - 200 87 application/json;+charset=utf-8 9443.9784ms2022-04-02 17:46:48.462 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country?PageNumber=2&PageSize=2 - -2022-04-02 17:46:48.466 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'2022-04-02 17:46:48.466 +03:00 [] Route matched with {action = "GetCountries", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountries(HotelListing.Models.RequestParams) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-02 17:46:48.581 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-02 17:46:48.591 +03:00 [] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Countries] AS [c]2022-04-02 17:46:48.599 +03:00 [] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results.2022-04-02 17:46:48.599 +03:00 [] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results.2022-04-02 17:46:48.614 +03:00 [] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[Id], [c].[Name], [c].[ShortName]
FROM [Countries] AS [c]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_0 ROWS ONLY2022-04-02 17:46:48.616 +03:00 [] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[HotelListing.Models.DTOs.CountryDTO, HotelListing, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.2022-04-02 17:46:48.623 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountries (HotelListing) in 155.8616ms2022-04-02 17:46:48.624 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountries (HotelListing)'2022-04-02 17:46:48.624 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country?PageNumber=2&PageSize=2 - - - 200 51 application/json;+charset=utf-8 162.9270ms2022-04-02 18:33:08.285 +03:00 [] Application Is Starting2022-04-02 18:33:11.192 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-02 18:33:12.031 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-02 18:33:12.031 +03:00 [] Hosting environment: Development2022-04-02 18:33:12.031 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-02 18:33:12.251 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-02 18:33:12.650 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 404.7165ms2022-04-02 18:33:13.552 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-02 18:33:13.963 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 411.7138ms2022-04-02 19:33:42.630 +03:00 [] Application Is Starting2022-04-02 19:33:46.719 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-02 19:33:47.791 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-02 19:33:47.791 +03:00 [] Hosting environment: Development2022-04-02 19:33:47.792 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-02 19:33:47.914 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-02 19:33:48.229 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 320.5733ms2022-04-02 19:33:50.194 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-02 19:33:50.395 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 199.9327ms2022-04-02 19:34:51.005 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/api/country/5 - -2022-04-02 19:34:51.487 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-02 19:34:51.597 +03:00 [] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-02 19:34:52.971 +03:00 [] The relationship was separated into two relationships because the [ForeignKey] attribute specified on the navigation 'Country.Hotels' doesn't match the [ForeignKey] attribute specified on the property 'Hotel.CountryId'.2022-04-02 19:34:53.944 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-02 19:35:01.264 +03:00 [] Executed DbCommand (133ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Hotels], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE ([c].[Id] = @__id_0) AND ([c].[Id] = @__id_0)
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[Hotels]
ORDER BY [t].[Id], [h].[Id]2022-04-02 19:35:01.375 +03:00 [] Executing OkObjectResult, writing value of type 'null'.2022-04-02 19:35:01.388 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 9778.4899ms2022-04-02 19:35:01.389 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-02 19:35:01.404 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/api/country/5 - - - 204 0 - 10398.4591ms2022-04-02 19:38:37.110 +03:00 [] Request starting HTTP/1.1 GET https://localhost:44389/api/country/5 - -2022-04-02 19:38:37.501 +03:00 [] Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-04-02 19:38:37.702 +03:00 [] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.2022-04-02 19:38:37.703 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-02 19:38:37.703 +03:00 [] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-02 19:38:37.828 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-02 19:38:37.852 +03:00 [] Executed DbCommand (19ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Hotels], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE ([c].[Id] = @__id_0) AND ([c].[Id] = @__id_0)
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[Hotels]
ORDER BY [t].[Id], [h].[Id]2022-04-02 19:38:37.853 +03:00 [] Executing OkObjectResult, writing value of type 'null'.2022-04-02 19:38:37.853 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 150.1485ms2022-04-02 19:38:37.857 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-02 19:38:37.858 +03:00 [] Request finished HTTP/1.1 GET https://localhost:44389/api/country/5 - - - 204 0 - 749.9899ms2022-04-02 19:38:46.399 +03:00 [] Request starting HTTP/1.1 GET https://localhost:44389/api/country/1 - -2022-04-02 19:38:46.407 +03:00 [] Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-04-02 19:38:46.407 +03:00 [] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.2022-04-02 19:38:46.407 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-02 19:38:46.408 +03:00 [] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-02 19:38:46.424 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-02 19:38:46.443 +03:00 [] Executed DbCommand (17ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Hotels], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE ([c].[Id] = @__id_0) AND ([c].[Id] = @__id_0)
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[Hotels]
ORDER BY [t].[Id], [h].[Id]2022-04-02 19:38:46.482 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Models.DTOs.CountryDTO'.2022-04-02 19:38:46.750 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 342.764ms2022-04-02 19:38:46.751 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-02 19:38:46.751 +03:00 [] Request finished HTTP/1.1 GET https://localhost:44389/api/country/1 - - - 200 42 application/json;+charset=utf-8 352.0865ms2022-04-02 19:38:52.105 +03:00 [] Request starting HTTP/1.1 GET https://localhost:44389/api/country/2 - -2022-04-02 19:38:52.107 +03:00 [] Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-04-02 19:38:52.107 +03:00 [] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.2022-04-02 19:38:52.107 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-02 19:38:52.108 +03:00 [] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-02 19:38:52.110 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-02 19:38:52.157 +03:00 [] Executed DbCommand (34ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Hotels], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE ([c].[Id] = @__id_0) AND ([c].[Id] = @__id_0)
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[Hotels]
ORDER BY [t].[Id], [h].[Id]2022-04-02 19:38:52.158 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Models.DTOs.CountryDTO'.2022-04-02 19:38:52.160 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 52.3559ms2022-04-02 19:38:52.160 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-02 19:38:52.163 +03:00 [] Request finished HTTP/1.1 GET https://localhost:44389/api/country/2 - - - 200 42 application/json;+charset=utf-8 57.1586ms2022-04-02 19:38:56.193 +03:00 [] Request starting HTTP/1.1 GET https://localhost:44389/api/country/3 - -2022-04-02 19:38:56.194 +03:00 [] Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-04-02 19:38:56.194 +03:00 [] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.2022-04-02 19:38:56.194 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-02 19:38:56.194 +03:00 [] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-02 19:38:56.195 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-02 19:38:56.199 +03:00 [] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[Name], [t].[ShortName], [h].[Id], [h].[Address], [h].[CountryId], [h].[Hotels], [h].[Name], [h].[Rating]
FROM (
    SELECT TOP(1) [c].[Id], [c].[Name], [c].[ShortName]
    FROM [Countries] AS [c]
    WHERE ([c].[Id] = @__id_0) AND ([c].[Id] = @__id_0)
) AS [t]
LEFT JOIN [Hotels] AS [h] ON [t].[Id] = [h].[Hotels]
ORDER BY [t].[Id], [h].[Id]2022-04-02 19:38:56.200 +03:00 [] Executing OkObjectResult, writing value of type 'HotelListing.Models.DTOs.CountryDTO'.2022-04-02 19:38:56.200 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 5.9664ms2022-04-02 19:38:56.200 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-02 19:38:56.201 +03:00 [] Request finished HTTP/1.1 GET https://localhost:44389/api/country/3 - - - 200 49 application/json;+charset=utf-8 7.3518ms2022-04-02 19:38:58.598 +03:00 [] Request starting HTTP/1.1 GET https://localhost:44389/api/country/bhkb - -2022-04-02 19:38:58.607 +03:00 [] Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-04-02 19:38:58.607 +03:00 [] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.2022-04-02 19:38:58.612 +03:00 [] Request finished HTTP/1.1 GET https://localhost:44389/api/country/bhkb - - - 404 - - 13.8479ms2022-04-02 19:40:41.130 +03:00 [] Application Is Starting2022-04-02 19:40:56.883 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-02 19:40:59.346 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-02 19:40:59.346 +03:00 [] Hosting environment: Development2022-04-02 19:40:59.346 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-02 19:40:59.601 +03:00 [] Request starting HTTP/1.1 GET https://localhost:44389/api/country/1 - -2022-04-02 19:40:59.601 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-02 19:41:01.708 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 2106.6358ms2022-04-02 19:41:03.148 +03:00 [] Failed to validate the token.Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2022-04-02 19:41:03.451 +03:00 [] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: 'System.DateTime', Current time: 'System.DateTime'.2022-04-02 19:41:03.461 +03:00 [] Executing endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-02 19:41:03.760 +03:00 [] Route matched with {action = "GetCountry", controller = "Country"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCountry(Int32) on controller HotelListing.Controllers.CountryController (HotelListing).2022-04-02 19:41:05.484 +03:00 [] Executed action HotelListing.Controllers.CountryController.GetCountry (HotelListing) in 1705.5132ms2022-04-02 19:41:05.494 +03:00 [] Executed endpoint 'HotelListing.Controllers.CountryController.GetCountry (HotelListing)'2022-04-02 19:41:05.498 +03:00 [] An unhandled exception has occurred while executing the request.System.Exception: Exception of type 'System.Exception' was thrown.
   at HotelListing.Controllers.CountryController.GetCountry(Int32 id) in C:\Users\annbe\Desktop\Repo\PET\HotelListing\Controllers\CountryController.cs:line 56
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)
2022-04-02 19:41:06.721 +03:00 [] Something went wrong in the System.Exception: Exception of type 'System.Exception' was thrown.
   at HotelListing.Controllers.CountryController.GetCountry(Int32 id) in C:\Users\annbe\Desktop\Repo\PET\HotelListing\Controllers\CountryController.cs:line 56
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.<Invoke>g__Awaited|6_0(ExceptionHandlerMiddleware middleware, HttpContext context, Task task)2022-04-02 19:41:07.332 +03:00 [] Request finished HTTP/1.1 GET https://localhost:44389/api/country/1 - - - 500 - application/json 7737.6800ms2022-04-02 19:41:20.089 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-02 19:41:20.483 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 393.2187ms2022-04-02 20:06:15.971 +03:00 [] Application Is Starting2022-04-02 20:06:19.600 +03:00 [] User profile is available. Using 'C:\Users\annbe\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.2022-04-02 20:06:20.398 +03:00 [] Application started. Press Ctrl+C to shut down.2022-04-02 20:06:20.398 +03:00 [] Hosting environment: Development2022-04-02 20:06:20.398 +03:00 [] Content root path: C:\Users\annbe\Desktop\Repo\PET\HotelListing2022-04-02 20:06:20.482 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/index.html - -2022-04-02 20:06:20.811 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/index.html - - - 200 - text/html;charset=utf-8 337.6530ms2022-04-02 20:06:21.921 +03:00 [] Request starting HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - -2022-04-02 20:06:22.329 +03:00 [] Request finished HTTP/2 GET https://localhost:44389/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 408.8167ms2022-04-02 20:06:27.086 +03:00 [] Request starting HTTP/1.1 POST https://localhost:44389/api/account/login application/json 602022-04-02 20:06:27.677 +03:00 [] Executing endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-02 20:06:27.799 +03:00 [] Route matched with {action = "Login", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(HotelListing.Models.DTOs.LoginUserDTO) on controller HotelListing.Controllers.AccountController (HotelListing).2022-04-02 20:06:29.073 +03:00 [] Login attemt for aw@example.com 2022-04-02 20:06:29.944 +03:00 [] The relationship was separated into two relationships because the [ForeignKey] attribute specified on the navigation 'Country.Hotels' doesn't match the [ForeignKey] attribute specified on the property 'Hotel.CountryId'.2022-04-02 20:06:31.145 +03:00 [] Entity Framework Core 5.0.15 initialized 'AppDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None2022-04-02 20:06:40.986 +03:00 [] Executed DbCommand (1,117ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_02022-04-02 20:06:41.469 +03:00 [] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_02022-04-02 20:06:41.759 +03:00 [] Executing AcceptedResult, writing value of type '<>f__AnonymousType0`1[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.2022-04-02 20:06:41.864 +03:00 [] Executed action HotelListing.Controllers.AccountController.Login (HotelListing) in 14050.4607ms2022-04-02 20:06:41.865 +03:00 [] Executed endpoint 'HotelListing.Controllers.AccountController.Login (HotelListing)'2022-04-02 20:06:41.877 +03:00 [] Request finished HTTP/1.1 POST https://localhost:44389/api/account/login application/json 60 - 202 255 application/json;+charset=utf-8 14791.0927ms